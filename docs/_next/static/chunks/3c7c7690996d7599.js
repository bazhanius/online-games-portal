(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38646,e=>{"use strict";e.i(30608);var t=e.i(40223),r=e.i(30232),o=e.i(97927),i=e.i(10861),n=e.i(40638),l=e.i(66343),s=e.i(22364),a=e.i(26412),u=e.i(69881),c=e.i(73225),h=e.i(65286),f=e.i(35607),m=e.i(29238),d=e.i(98289),p=e.i(20500),g=e.i(34940),b=e.i(28446),y=e.i(53226),v=e.i(85312),S=e.i(92260),x=e.i(79492);let k=(e,t,r)=>{let o=e.keys[0];if(Array.isArray(t))t.forEach((t,o)=>{r((t,r)=>{o<=e.keys.length-1&&(0===o?Object.assign(t,r):t[e.up(e.keys[o])]=r)},t)});else if(t&&"object"==typeof t){let i,n;(Object.keys(t).length>e.keys.length?e.keys:(i=e.keys,n=Object.keys(t),i.filter(e=>n.includes(e)))).forEach(i=>{if(e.keys.includes(i)){let n=t[i];void 0!==n&&r((t,r)=>{o===i?Object.assign(t,r):t[e.up(i)]=r},n)}})}else("number"==typeof t||"string"==typeof t)&&r((e,t)=>{Object.assign(e,t)},t)};function w(e){return`--Grid-${e}Spacing`}function C(e){return`--Grid-parent-${e}Spacing`}let j="--Grid-columns",_="--Grid-parent-columns",O=({theme:e,ownerState:t})=>{let r={};return k(e.breakpoints,t.size,(e,t)=>{let o={};"grow"===t&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof t&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${_}) - (var(${_}) - ${t}) * (var(${C("column")}) / var(${_})))`}),e(r,o)}),r},W=({theme:e,ownerState:t})=>{let r={};return k(e.breakpoints,t.offset,(e,t)=>{let o={};"auto"===t&&(o={marginLeft:"auto"}),"number"==typeof t&&(o={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${_}) + var(${C("column")}) * ${t} / var(${_}))`}),e(r,o)}),r},L=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={[j]:12};return k(e.breakpoints,t.columns,(e,t)=>{let o=t??12;e(r,{[j]:o,"> *":{[_]:o}})}),r},R=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return k(e.breakpoints,t.rowSpacing,(t,o)=>{let i="string"==typeof o?o:e.spacing?.(o);t(r,{[w("row")]:i,"> *":{[C("row")]:i}})}),r},M=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return k(e.breakpoints,t.columnSpacing,(t,o)=>{let i="string"==typeof o?o:e.spacing?.(o);t(r,{[w("column")]:i,"> *":{[C("column")]:i}})}),r},F=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return k(e.breakpoints,t.direction,(e,t)=>{e(r,{flexDirection:t})}),r},T=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${w("row")}) var(${w("column")})`}}),B=(0,x.default)(),z=(0,b.default)("div",{name:"MuiGrid",slot:"Root"});function $(e){return(0,y.default)({props:e,name:"MuiGrid",defaultTheme:B})}var E=e.i(57752),A=e.i(90243),G=e.i(28698);let P=function(e={}){let{createStyledComponent:r=z,useThemeProps:o=$,useTheme:i=v.default,componentName:n="MuiGrid"}=e;function s(e,t,r=()=>!0){let o={};return null===e||(Array.isArray(e)?e.forEach((e,i)=>{null!==e&&r(e)&&t.keys[i]&&(o[t.keys[i]]=e)}):"object"==typeof e?Object.keys(e).forEach(t=>{let i=e[t];null!=i&&r(i)&&(o[t]=i)}):o[t.keys[0]]=e),o}let a=r(L,M,R,O,F,T,W),u=l.forwardRef(function(e,r){var u;let c,h=i(),f=o(e),b=(0,S.extendSxProp)(f);u=h.breakpoints,c=[],void 0!==b.item&&(delete b.item,c.push("item")),void 0!==b.zeroMinWidth&&(delete b.zeroMinWidth,c.push("zeroMinWidth")),u.keys.forEach(e=>{void 0!==b[e]&&(c.push(e),delete b[e])});let{className:y,children:v,columns:x=12,container:k=!1,component:w="div",direction:C="row",wrap:j="wrap",size:_={},offset:O={},spacing:W=0,rowSpacing:L=W,columnSpacing:R=W,unstable_level:M=0,...F}=b,T=s(_,h.breakpoints,e=>!1!==e),B=s(O,h.breakpoints),z=e.columns??(M?void 0:x),$=e.spacing??(M?void 0:W),E=e.rowSpacing??e.spacing??(M?void 0:L),A=e.columnSpacing??e.spacing??(M?void 0:R),G={...b,level:M,columns:z,container:k,direction:C,wrap:j,spacing:$,rowSpacing:E,columnSpacing:A,size:T,offset:B},P=((e,t)=>{let r,{container:o,direction:i,spacing:l,wrap:s,size:a}=e,u={root:["root",o&&"container","wrap"!==s&&`wrap-xs-${String(s)}`,...void 0===i?[]:"object"==typeof i?Object.entries(i).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(i)}`],...(r=[],Object.entries(a).forEach(([e,t])=>{!1!==t&&void 0!==t&&r.push(`grid-${e}-${String(t)}`)}),r),...o?((e,t="xs")=>{function r(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(r(e))return[`spacing-${t}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let t=[];return Object.entries(e).forEach(([e,o])=>{r(o)&&t.push(`spacing-${e}-${String(o)}`)}),t}return[]})(l,t.breakpoints.keys[0]):[]]};return(0,g.default)(u,e=>(0,p.default)(n,e),{})})(G,h);return(0,t.jsx)(a,{ref:r,as:w,ownerState:G,className:(0,m.default)(P.root,y),...F,children:l.Children.map(v,e=>l.isValidElement(e)&&(0,d.default)(e,["Grid"])&&k&&e.props.container?l.cloneElement(e,{unstable_level:e.props?.unstable_level??M+1}):e)})});return u.muiName="Grid",u}({createStyledComponent:(0,E.styled)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>(0,A.useDefaultProps)({props:e,name:"MuiGrid"}),useTheme:G.default});var I=e.i(33144),N=e.i(43326),D=e.i(42097),V=e.i(32569),U=e.i(15106),H=e.i(47631),q=e.i(6722),J=e.i(80203),K=e.i(29227),Y=e.i(47069),Q=e.i(9544);e.i(46643);var X=e.i(43966),Z=e.i(68120);let ee=function(e){let o,i,n,s,a,c,h,f=(0,r.c)(21),{gameId:m,board:d,zoomLvl:p,canMove:g,playerColor:b,winningPositions:y}=e,{currentUser:v}=(0,l.useContext)(K.CurrentUserContext),{socket:S}=(0,l.useContext)(Y.SocketContext),[x,k]=(0,l.useState)(null),w=(0,l.useRef)();f[0]!==d||f[1]!==x?(o=()=>{d&&JSON.stringify(d)!==JSON.stringify(x)&&(w.current=d,k([...d]))},f[0]=d,f[1]=x,f[2]=o):o=f[2],f[3]!==d||f[4]!==g||f[5]!==b?(i=[d,g,b],f[3]=d,f[4]=g,f[5]=b,f[6]=i):i=f[6],(0,l.useEffect)(o,i),f[7]!==g||f[8]!==v||f[9]!==m||f[10]!==S?(n=(e,t)=>{S&&g&&S.emit("update game",{name:"connect4",gameId:m,login:v.login,token:v.token,move:{column:parseInt(e.column)}})},f[7]=g,f[8]=v,f[9]=m,f[10]=S,f[11]=n):n=f[11];let C=n;f[12]===Symbol.for("react.memo_cache_sentinel")?(s={p:1,textAlign:"center",width:"100%"},f[12]=s):s=f[12];let j=`connect4-board ${p<100?" connect4-board__"+p:""}`;return f[13]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"connect4-board-foreground",style:{background:'url("/online-games-portal/img/connect4-foreground.svg") no-repeat center center / cover'}}),f[13]=a):a=f[13],f[14]!==x||f[15]!==C||f[16]!==y?(c=x&&x.map((e,r)=>{let o=r%7,i=Math.floor(r/6),n=y.indexOf(r)>-1;return(0,t.jsxs)("div",{className:"connect4-board-cell","data-column":o,"data-row":i,onClick:t=>C(t.target.dataset,e),children:[(0===e||1===e)&&(0,t.jsx)("div",{className:"connect4-board-cell-chip",children:(0,t.jsx)("img",{width:"100%",height:"100%",src:`/online-games-portal/img/connect4-${0===e?"yellow":"red"}.svg`})}),n&&(0,t.jsx)("div",{className:"connect4-board-cell-winning-star"})]},r)}),f[14]=x,f[15]=C,f[16]=y,f[17]=c):c=f[17],f[18]!==j||f[19]!==c?(h=(0,t.jsx)(u.Box,{sx:s,children:(0,t.jsx)(D.Stack,{direction:"column",alignItems:"center",children:(0,t.jsxs)("div",{className:j,children:[a,c]})})}),f[18]=j,f[19]=c,f[20]=h):h=f[20],h};class et{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let r=this.findDoubleThreat();if(-1!==r)return r;let o=this.findStrategicMove();return -1!==o?o:this.getRandomValidMove()}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);this.board[t][r]=e;let o=this.checkWin(this.board,t,r,e);if(this.board[t][r]=null,o)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),r=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&r++,this.checkVerticalThreat(e,t,this.playerSymbol)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&r++,r>=2)return e}return -1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let r=0;r<this.COLS;r++){if(this.isColumnFull(r))continue;let o=e[r],i=this.getFirstEmptyRow(r);if(o+=this.evaluatePosition(r,i,this.playerSymbol),i>0){let e=i-1;o-=.5*this.evaluatePosition(r,e,this.opponentSymbol)}t.push({col:r,score:o})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let r=t.filter(e=>e.score>=.8*t[0].score),o=Math.floor(Math.random()*r.length);return r[o].col}evaluatePosition(e,t,r){let o=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let l=this.getLine(e,t,i,n,r);o+=this.evaluateLine(l,r)}return o}getLine(e,t,r,o,i){let n=[];for(let i=-3;i<=3;i++){let l=e+i*r,s=t+i*o;if(l>=0&&l<this.COLS&&s>=0&&s<this.ROWS){let e=this.board[l][s];n.push(e)}else n.push("WALL")}return n}evaluateLine(e,t){let r=0;for(let o=0;o<=e.length-4;o++){let i=e.slice(o,o+4);r+=this.evaluateSegment(i,t)}return r}evaluateSegment(e,t){let r="R"===t?"Y":"R",o=0,i=0,n=0;for(let l of e)l===t?o++:l===r?i++:null===l&&n++;return o>0&&i>0?0:4===o?1e3:3===o&&1===n?100:2===o&&2===n?10:1===o&&3===n?1:3===i&&1===n?-50:2===i&&2===n?-10:0}checkHorizontalThreat(e,t,r){let o=0,i=0;for(let n=e-1;n>=0&&n>=e-3;n--)if(this.board[n][t]===r)o++;else if(null===this.board[n][t])i++;else break;for(let n=e+1;n<this.COLS&&n<=e+3;n++)if(this.board[n][t]===r)o++;else if(null===this.board[n][t])i++;else break;return o>=2&&i>=1}checkVerticalThreat(e,t,r){let o=0;for(let i=t-1;i>=0&&i>=t-3;i--)if(this.board[e][i]===r)o++;else break;return o>=2}checkDiagonalThreat(e,t,r,o,i){let n=0,l=0;for(let s=1;s<=3;s++){let a=e+s*o,u=t+s*i;if(a<0||a>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[a][u]===r)n++;else if(null===this.board[a][u])l++;else break}for(let s=1;s<=3;s++){let a=e-s*o,u=t-s*i;if(a<0||a>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[a][u]===r)n++;else if(null===this.board[a][u])l++;else break}return n>=2&&l>=1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,r,o){for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let l=1;for(let s=1;s<4;s++){let a=t+s*i,u=r+s*n;if(a<0||a>=this.COLS||u<0||u>=this.ROWS||e[a][u]!==o)break;l++}for(let s=1;s<4;s++){let a=t-s*i,u=r-s*n;if(a<0||a>=this.COLS||u<0||u>=this.ROWS||e[a][u]!==o)break;l++}if(l>=4)return!0}return!1}}class er{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let r=this.findAndBlockFutureThreats();if(-1!==r)return r;let o=this.findDoubleThreat();if(-1!==o)return o;let i=this.findStrategicMove();return -1!==i?i:this.getRandomValidMove()}findAndBlockFutureThreats(){let e=[];for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);if(-1===r)continue;let o=this.evaluateOpponentThreat(t,r);o>0&&e.push({col:t,threatLevel:o})}return 0===e.length?-1:(e.sort((e,t)=>t.threatLevel-e.threatLevel),e[0].col)}evaluateOpponentThreat(e,t){let r;return this.board[e][t]=this.opponentSymbol,r=0+50*this.countThreats(e,t,this.opponentSymbol)+30*this.evaluateOpenLines(e,t,this.opponentSymbol),t>=3&&(r+=(6-t)*20),this.canBlockFutureThreat(e,t)||(r+=100),this.board[e][t]=null,r}countThreats(e,t,r){let o=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let l=[];for(let r=-3;r<=3;r++){let o=e+r*i,s=t+r*n;o>=0&&o<this.COLS&&s>=0&&s<this.ROWS?l.push(this.board[o][s]):l.push("WALL")}for(let e=0;e<=3;e++){let t=l.slice(e,e+4);this.isDangerousSegment(t,r)&&o++}}return o}isDangerousSegment(e,t){let r=0,o=0;for(let i of e)if(i===t)r++;else if(null===i)o++;else if("WALL"!==i)return!1;return r>=2&&o>=1&&r+o===4}evaluateOpenLines(e,t,r){let o=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]])this.checkOpenEnds(e,t,i,n,r)&&o++;return o}checkOpenEnds(e,t,r,o,i){let n=!1;for(let l=1;l<=3;l++){let s=e+l*r,a=t+l*o;if(s<0||s>=this.COLS||a<0||a>=this.ROWS)break;if(null===this.board[s][a]){n=!0;break}if(this.board[s][a]!==i)break}let l=!1;for(let n=1;n<=3;n++){let s=e-n*r,a=t-n*o;if(s<0||s>=this.COLS||a<0||a>=this.ROWS)break;if(null===this.board[s][a]){l=!0;break}if(this.board[s][a]!==i)break}return n||l}canBlockFutureThreat(e,t){for(let r=Math.max(0,e-1);r<=Math.min(this.COLS-1,e+1);r++)if(r!==e&&!this.isColumnFull(r)){let o=this.getFirstEmptyRow(r);this.board[r][o]=this.playerSymbol,this.board[e][t]=this.opponentSymbol;let i=this.countThreats(e,t,this.opponentSymbol)>0;if(this.board[e][t]=null,this.board[r][o]=null,!i)return!0}return!1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let r=0;r<this.COLS;r++){if(this.isColumnFull(r))continue;let o=this.getFirstEmptyRow(r),i=e[r];i+=2*this.evaluatePosition(r,o,this.playerSymbol),i-=3*this.evaluatePosition(r,o,this.opponentSymbol),5===o&&this.wouldGiveBottomLine(r,o)&&(i-=100),i+=this.getAdjacentBonus(r,o,this.playerSymbol),i-=.5*this.getAdjacentBonus(r,o,this.opponentSymbol),t.push({col:r,score:i})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let r=t.slice(0,3),o=Math.floor(Math.random()*r.length);return r[o].col}wouldGiveBottomLine(e,t){if(5!==t)return!1;this.board[e][t]=this.playerSymbol;let r=!1;for(let e=0;e<=3;e++){let t=[this.board[e][5],this.board[e+1][5],this.board[e+2][5],this.board[e+3][5]],o=0,i=0;for(let e of t)null===e?o++:e===this.playerSymbol&&i++;if(3===o&&1===i){for(let t=e;t<e+4;t++)if(null===this.board[t][5]&&!this.isColumnFull(t)){this.board[t][5]=this.opponentSymbol;let e=this.checkWin(this.board,t,5,this.opponentSymbol);if(this.board[t][5]=null,e){r=!0;break}}}if(r)break}return this.board[e][t]=null,r}getAdjacentBonus(e,t,r){let o=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1],[-1,0],[0,-1],[-1,-1],[-1,1]]){let l=e+i,s=t+n;l>=0&&l<this.COLS&&s>=0&&s<this.ROWS&&this.board[l][s]===r&&(o+=5,0!==i&&0!==n&&(o+=3))}return o}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);this.board[t][r]=e;let o=this.checkWin(this.board,t,r,e);if(this.board[t][r]=null,o)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),r=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&r++,this.checkVerticalThreat(e,t,this.playerSymbol)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&r++,r>=2)return e}return -1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,r,o){for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let l=1;for(let s=1;s<4;s++){let a=t+s*i,u=r+s*n;if(a<0||a>=this.COLS||u<0||u>=this.ROWS||e[a][u]!==o)break;l++}for(let s=1;s<4;s++){let a=t-s*i,u=r-s*n;if(a<0||a>=this.COLS||u<0||u>=this.ROWS||e[a][u]!==o)break;l++}if(l>=4)return!0}return!1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}}var eo=e.i(95211);let ei=(0,n.createTheme)({colorSchemes:{dark:!0}});function en(){let e,n,m,d,p,g,b,y,v,S,x,k,w,C,j,_,O,W,L,R,M,F,T,B,z,$,E,A,G,Z,en,es,ea,eu,ec,eh,ef,em,ed,ep,eg,eb,ey,ev,eS,ex,ek,ew,eC,ej,e_,eO,eW,eL,eR,eM=(0,r.c)(168);(0,o.useRouter)();let{currentUser:eF}=(0,l.useContext)(K.CurrentUserContext),{socket:eT}=(0,l.useContext)(Y.SocketContext),[eB,ez]=(0,l.useState)(75);eM[0]!==eB?(e=e=>{"zoomOut"===e&&(100===eB&&ez(75),75===eB&&ez(50)),"zoomIn"===e&&(50===eB&&ez(75),75===eB&&ez(100))},eM[0]=eB,eM[1]=e):e=eM[1];let e$=e,eE=(0,o.useSearchParams)();eM[2]!==eE?(n=eE.get("id"),eM[2]=eE,eM[3]=n):n=eM[3];let eA=n,[eG,eP]=(0,l.useState)(!1);eM[4]!==eG?(m=e=>{eP(!0),eG!==e&&eP(e)},eM[4]=eG,eM[5]=m):m=eM[5];let eI=m,[eN,eD]=(0,l.useState)(!0),[eV,eU]=(0,l.useState)(!1);eM[6]===Symbol.for("react.memo_cache_sentinel")?(d={},eM[6]=d):d=eM[6];let[eH,eq]=(0,l.useState)(d),[eJ,eK]=(0,l.useState)(null);eM[7]===Symbol.for("react.memo_cache_sentinel")?(p=[],eM[7]=p):p=eM[7];let[eY,eQ]=(0,l.useState)(p),[eX,eZ]=(0,l.useState)(!1),[e1,e0]=l.default.useState(!1);eM[8]===Symbol.for("react.memo_cache_sentinel")?(g=(e,t)=>{"clickaway"!==t&&e0(!1)},eM[8]=g):g=eM[8];let e2=g,e3=eJ&&"white"===eJ?"black":"white",e4=eH.players?.black==="Computer";if(eM[9]!==eT?(b=()=>{eT&&eT.emit("list of games",{})},eM[9]=eT,eM[10]=b):b=eM[10],eM[11]===Symbol.for("react.memo_cache_sentinel")?(y=[],eM[11]=y):y=eM[11],(0,l.useEffect)(b,y),eM[12]!==eF||eM[13]!==eH.players?(v=()=>{eH.players&&eF.login&&(eH.players.white===eF.login?eK("white"):eH.players.black===eF.login&&eK("black"))},eM[12]=eF,eM[13]=eH.players,eM[14]=v):v=eM[14],eM[15]!==eF||eM[16]!==eH?(S=[eH,eF],eM[15]=eF,eM[16]=eH,eM[17]=S):S=eM[17],(0,l.useEffect)(v,S),eM[18]!==eF||eM[19]!==eA||eM[20]!==eH.moves||eM[21]!==e4||eM[22]!==eJ||eM[23]!==eT?(x=()=>{if(e4&&eJ&&eH.moves?.current_move==="black"){let e,t=(e=eH.moves.board,[...Array(7)].map((t,r)=>[...Array(6)].map((t,o)=>e[7*o+r]))),r=0===eF.computerStrength.connect4?new et(t,1).getBestMove():new er(t,1).getBestMove();eT&&Number.isFinite(r)&&setTimeout(()=>{eT.emit("update game",{name:"connect4",gameId:eA,login:eF.login,token:eF.token,move:{column:r}})},1500)}},eM[18]=eF,eM[19]=eA,eM[20]=eH.moves,eM[21]=e4,eM[22]=eJ,eM[23]=eT,eM[24]=x):x=eM[24],eM[25]!==eH?(k=[eH],eM[25]=eH,eM[26]=k):k=eM[26],(0,l.useEffect)(x,k),eM[27]!==eA||eM[28]!==eX||eM[29]!==eV||eM[30]!==eN||eM[31]!==eG||eM[32]!==eT?(w=()=>{let e=e=>{if(eA in e){let t=e[eA];t.moves.board=function(e){let t=Array(42).fill(null),r=0;for(let o=0;o<e.length;o+=2){let i,n=e[o],l=parseInt(e[o+1],10);switch(n){case".":default:i=null;break;case"0":i=0;break;case"1":i=1}for(let e=0;e<l&&r<42;e++)t[r++]=i}return t}(t.moves.board),eq(t),"finished"===t.status&&"draw"!==t.result&&eQ([...function(e,t){let r=[];for(let o=0;o<6;o++)for(let i=0;i<=3;i++){let n=[7*o+i,7*o+i+1,7*o+i+2,7*o+i+3];if(n.every(r=>e[r]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"horizontal",row:o,startCol:i,indices:n,positions:e})}}for(let o=0;o<7;o++)for(let i=0;i<=2;i++){let n=[7*i+o,(i+1)*7+o,(i+2)*7+o,(i+3)*7+o];if(n.every(r=>e[r]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"vertical",col:o,startRow:i,indices:n,positions:e})}}for(let o=0;o<=3;o++)for(let i=0;i<=2;i++){let n=[7*i+o,(i+1)*7+o+1,(i+2)*7+o+2,(i+3)*7+o+3];if(n.every(r=>e[r]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"diagonal_down",startCol:o,startRow:i,indices:n,positions:e})}}for(let o=0;o<=3;o++)for(let i=3;i<6;i++){let n=[7*i+o,(i-1)*7+o+1,(i-2)*7+o+2,(i-3)*7+o+3];if(n.every(r=>e[r]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"diagonal_up",startCol:o,startRow:i,indices:n,positions:e})}}return{win:r.length>0,combinations:r,positions:r.flatMap(e=>e.positions),uniquePositions:Array.from(new Set(r.flatMap(e=>e.indices))).sort((e,t)=>e-t)}}(t.moves.board,+("white won"!==t.result)).uniquePositions]),eV&&eU(!1),eN&&eD(!1),"finished"!==e[eA].status||eX||(eZ(!0),e0(!0))}else eG?eN||eD(!0):eV||eU(!0)};return eT.on("list of games",e),()=>{eT.off("list of games",e)}},eM[27]=eA,eM[28]=eX,eM[29]=eV,eM[30]=eN,eM[31]=eG,eM[32]=eT,eM[33]=w):w=eM[33],eM[34]!==eA||eM[35]!==eV||eM[36]!==eN||eM[37]!==eG||eM[38]!==eT?(C=[eT,eA,eG,eV,eN],eM[34]=eA,eM[35]=eV,eM[36]=eN,eM[37]=eG,eM[38]=eT,eM[39]=C):C=eM[39],(0,l.useEffect)(w,C),eV){let e;return eM[40]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(eo.default,{}),eM[40]=e):e=eM[40],e}eM[41]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(f.CircularProgress,{disableShrink:!0,color:"inherit"}),eM[41]=j):j=eM[41],eM[42]!==eN?(_=(0,t.jsx)(a.Backdrop,{sx:el,open:eN,children:j}),eM[42]=eN,eM[43]=_):_=eM[43],eM[44]===Symbol.for("react.memo_cache_sentinel")?(O={width:"100%"},eM[44]=O):O=eM[44],eM[45]!==eA||eM[46]!==eH||eM[47]!==eI?(W=(0,t.jsx)(u.Box,{sx:O,children:(0,t.jsx)(Q.default,{type:"game",gameId:eA,gameInfo:eH,handleSetIsUserLeftGame:eI})}),eM[45]=eA,eM[46]=eH,eM[47]=eI,eM[48]=W):W=eM[48],eM[49]!==eF.language||eM[50]!==eF.login||eM[51]!==eN||eM[52]!==eJ?(L=(!eF.login||!eJ)&&!eN&&(0,t.jsx)(u.Box,{sx:{width:"100%"},children:(0,t.jsx)(s.Alert,{severity:"info",sx:{m:1},variant:"outlined",icon:(0,t.jsx)(J.default,{fontSize:"inherit"}),children:(0,X.default)("spectatorMode",eF.language)})}),eM[49]=eF.language,eM[50]=eF.login,eM[51]=eN,eM[52]=eJ,eM[53]=L):L=eM[53],eM[54]===Symbol.for("react.memo_cache_sentinel")?(R={p:1,pt:0},eM[54]=R):R=eM[54],eM[55]===Symbol.for("react.memo_cache_sentinel")?(M={pl:2},eM[55]=M):M=eM[55],eM[56]===Symbol.for("react.memo_cache_sentinel")?(F={fontWeight:"bold"},eM[56]=F):F=eM[56],eM[57]!==eF.language||eM[58]!==eH.players?.black||eM[59]!==eH.players?.white||eM[60]!==eH.status||eM[61]!==eJ?(T="white"!==eJ&&eJ?"black"===eJ?eH.players?.black:"finished"===eH.status?(0,t.jsx)(h.Chip,{label:(0,X.default)("opponentLeftTheGame",eF.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):eH.players?.white||"":eH.players?.white,eM[57]=eF.language,eM[58]=eH.players?.black,eM[59]=eH.players?.white,eM[60]=eH.status,eM[61]=eJ,eM[62]=T):T=eM[62],eM[63]!==T?(B=(0,t.jsx)(P,{size:"grow",children:(0,t.jsx)(u.Box,{sx:M,children:(0,t.jsx)(V.Typography,{variant:"body1",sx:F,noWrap:!0,children:T})})}),eM[63]=T,eM[64]=B):B=eM[64],eM[65]===Symbol.for("react.memo_cache_sentinel")?(z={transform:"rotate(180deg)"},eM[65]=z):z=eM[65];let e5=("white"!==eJ||eH?.moves?.current_move!=="white")&&("black"!==eJ||eH?.moves?.current_move!=="black")&&(eJ||eH?.moves?.current_move!=="white")?"disabled":"inherit";eM[66]!==e5?($=(0,t.jsx)(U.default,{sx:z,color:e5}),eM[66]=e5,eM[67]=$):$=eM[67];let e6=eH?.moves?.current_move==="black"?"red":eH?.moves?.current_move==="white"?"gold":"gray",e7=eH?.moves?.current_move==="black"?'url("/online-games-portal/img/connect4-red.svg") no-repeat center center / cover':eH?.moves?.current_move==="white"?'url("/online-games-portal/img/connect4-yellow.svg") no-repeat center center / cover':"none";eM[68]!==e6||eM[69]!==e7?(E=(0,t.jsx)(u.Box,{sx:{display:"block",width:"24px",height:"24px",backgroundColor:e6,background:e7,boxShadow:"5px 5px 10px #090909, -5px -5px 10px #252525",borderRadius:"50%"}}),eM[68]=e6,eM[69]=e7,eM[70]=E):E=eM[70];let e9=("white"!==eJ||eH?.moves?.current_move!=="black")&&("black"!==eJ||eH?.moves?.current_move!=="white")&&(eJ||eH?.moves?.current_move!=="black")?"disabled":"inherit";eM[71]!==e9?(A=(0,t.jsx)(U.default,{color:e9}),eM[71]=e9,eM[72]=A):A=eM[72],eM[73]!==$||eM[74]!==E||eM[75]!==A?(G=(0,t.jsx)(P,{size:"auto",children:(0,t.jsxs)(D.Stack,{direction:"row",spacing:1,alignItems:"center",children:[$,E,A]})}),eM[73]=$,eM[74]=E,eM[75]=A,eM[76]=G):G=eM[76],eM[77]===Symbol.for("react.memo_cache_sentinel")?(Z={pr:2,textAlign:"right"},eM[77]=Z):Z=eM[77],eM[78]===Symbol.for("react.memo_cache_sentinel")?(en={fontWeight:"bold"},eM[78]=en):en=eM[78],eM[79]!==eF.language||eM[80]!==eH.players||eM[81]!==eH.status||eM[82]!==eJ?(es="black"===eJ?eH.players?.white?eH.players.white:"finished"===eH.status?"":(0,t.jsx)(h.Chip,{label:(0,X.default)("waitingForOpponent",eF.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}):eH.players?.black?"Computer"===eH.players.black?(0,t.jsx)(t.Fragment,{children:(0,X.default)("computer",eF.language)}):eH.players.black:"finished"===eH.status?"":(0,t.jsx)(h.Chip,{label:(0,X.default)("waitingForOpponent",eF.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}),eM[79]=eF.language,eM[80]=eH.players,eM[81]=eH.status,eM[82]=eJ,eM[83]=es):es=eM[83],eM[84]!==eF.language||eM[85]!==eH.moves?.current_move||eM[86]!==eH.players||eM[87]!==eH.status||eM[88]!==eJ?(ea="finished"!==eH.status&&("white"===eJ&&eH?.moves?.current_move==="black"||"black"===eJ&&eH?.moves?.current_move==="white")?"":"finished"===eH.status?("white"!==eJ||eH.players.black)&&("black"!==eJ||eH.players.white)&&(eJ||eH.players.black)?"":(0,t.jsx)(h.Chip,{label:(0,X.default)("opponentLeftTheGame",eF.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):"",eM[84]=eF.language,eM[85]=eH.moves?.current_move,eM[86]=eH.players,eM[87]=eH.status,eM[88]=eJ,eM[89]=ea):ea=eM[89],eM[90]!==es||eM[91]!==ea?(eu=(0,t.jsx)(P,{size:"grow",children:(0,t.jsx)(u.Box,{sx:Z,children:(0,t.jsxs)(V.Typography,{variant:"body1",sx:en,noWrap:!0,children:[es,ea]})})}),eM[90]=es,eM[91]=ea,eM[92]=eu):eu=eM[92],eM[93]!==B||eM[94]!==G||eM[95]!==eu?(ec=(0,t.jsxs)(P,{container:!0,spacing:3,sx:R,children:[B,G,eu]}),eM[93]=B,eM[94]=G,eM[95]=eu,eM[96]=ec):ec=eM[96],eM[97]===Symbol.for("react.memo_cache_sentinel")?(eh={p:3,pt:1,pb:0,textAlign:"center",width:"100%",justifyContent:"center"},eM[97]=eh):eh=eM[97],eM[98]===Symbol.for("react.memo_cache_sentinel")?(ef={alignItems:"center",alignContent:"center"},eM[98]=ef):ef=eM[98],eM[99]===Symbol.for("react.memo_cache_sentinel")?(em={color:"rgb(186, 186, 186)",fontFamily:"Roboto Condensed"},eM[99]=em):em=eM[99],eM[100]!==eF.language||eM[101]!==eH.moves?.current_move||eM[102]!==eH.status||eM[103]!==eJ?(ed=eJ&&eH?.status!=="finished"&&("white"===eJ&&eH?.moves?.current_move==="white"||"black"===eJ&&eH?.moves?.current_move==="black")?(0,t.jsx)(t.Fragment,{children:(0,X.default)("yourTurn",eF.language)}):"",eM[100]=eF.language,eM[101]=eH.moves?.current_move,eM[102]=eH.status,eM[103]=eJ,eM[104]=ed):ed=eM[104],eM[105]!==eF.language||eM[106]!==eH.result||eM[107]!==eH.status||eM[108]!==eJ?(ep=eJ&&eH?.status==="finished"&&eH?.result.toLowerCase().startsWith(eJ?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,X.default)("youWin",eF.language)}):eH?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,X.default)("draw",eF.language)}):"",eM[105]=eF.language,eM[106]=eH.result,eM[107]=eH.status,eM[108]=eJ,eM[109]=ep):ep=eM[109],eM[110]!==eF.language||eM[111]!==eH.moves?.current_move||eM[112]!==eH.players||eM[113]!==eH.status||eM[114]!==eJ?(eg=eJ&&"finished"!==eH.status&&("white"===eJ&&eH?.moves?.current_move==="black"||"black"===eJ&&eH?.moves?.current_move==="white")?(0,t.jsx)(t.Fragment,{children:(0,X.default)("waitingForOpponent",eF.language)}):("finished"===eH.status&&("white"!==eJ||eH.players.black)&&("black"!==eJ||eH.players.white),""),eM[110]=eF.language,eM[111]=eH.moves?.current_move,eM[112]=eH.players,eM[113]=eH.status,eM[114]=eJ,eM[115]=eg):eg=eM[115],eM[116]!==eF.language||eM[117]!==eH.result||eM[118]!==eH.status||eM[119]!==e3||eM[120]!==eJ?(eb=eJ&&eH?.status==="finished"&&eH?.result.toLowerCase().startsWith(e3?.toLowerCase()||"draw")?(0,t.jsx)(t.Fragment,{children:(0,X.default)("opponentWins",eF.language)}):"",eM[116]=eF.language,eM[117]=eH.result,eM[118]=eH.status,eM[119]=e3,eM[120]=eJ,eM[121]=eb):eb=eM[121],eM[122]!==ed||eM[123]!==ep||eM[124]!==eg||eM[125]!==eb?(ey=(0,t.jsx)(u.Box,{sx:ef,children:(0,t.jsxs)(V.Typography,{variant:"body2",sx:em,noWrap:!0,children:[ed,ep,eg,eb]})}),eM[122]=ed,eM[123]=ep,eM[124]=eg,eM[125]=eb,eM[126]=ey):ey=eM[126];let e8=50===eB;eM[127]!==e$?(ev=e=>e$("zoomOut"),eM[127]=e$,eM[128]=ev):ev=eM[128],eM[129]===Symbol.for("react.memo_cache_sentinel")?(eS=(0,t.jsx)(q.default,{}),eM[129]=eS):eS=eM[129],eM[130]!==e8||eM[131]!==ev?(ex=(0,t.jsx)(I.IconButton,{disabled:e8,onClick:ev,children:eS}),eM[130]=e8,eM[131]=ev,eM[132]=ex):ex=eM[132];let te=100===eB;eM[133]!==e$?(ek=e=>e$("zoomIn"),eM[133]=e$,eM[134]=ek):ek=eM[134],eM[135]===Symbol.for("react.memo_cache_sentinel")?(ew=(0,t.jsx)(H.default,{}),eM[135]=ew):ew=eM[135],eM[136]!==te||eM[137]!==ek?(eC=(0,t.jsx)(I.IconButton,{disabled:te,onClick:ek,children:ew}),eM[136]=te,eM[137]=ek,eM[138]=eC):eC=eM[138],eM[139]!==ex||eM[140]!==eC?(ej=(0,t.jsx)(u.Box,{children:(0,t.jsxs)(c.ButtonGroup,{variant:"outlined","aria-label":"Basic button group",size:"small",children:[ex,eC]})}),eM[139]=ex,eM[140]=eC,eM[141]=ej):ej=eM[141],eM[142]!==ey||eM[143]!==ej?(e_=(0,t.jsx)(u.Box,{sx:eh,children:(0,t.jsxs)(D.Stack,{direction:"row",spacing:2,justifyContent:"space-between",children:[ey,ej]})}),eM[142]=ey,eM[143]=ej,eM[144]=e_):e_=eM[144],eM[145]===Symbol.for("react.memo_cache_sentinel")?(eO={flexGrow:1,display:"flex",justifyContent:"center",m:"5px 0"},eM[145]=eO):eO=eM[145];let tt=eH?.moves?.board,tr=eH?.moves?.current_move===eJ&&eH?.status==="ongoing";return eM[146]!==eA||eM[147]!==eX||eM[148]!==eJ||eM[149]!==tt||eM[150]!==tr||eM[151]!==eY||eM[152]!==eB?(eW=(0,t.jsx)(u.Box,{sx:eO,children:(0,t.jsx)(ee,{gameId:eA,board:tt,zoomLvl:eB,canMove:tr,playerColor:eJ,winningPositions:eY,isGameOver:eX})}),eM[146]=eA,eM[147]=eX,eM[148]=eJ,eM[149]=tt,eM[150]=tr,eM[151]=eY,eM[152]=eB,eM[153]=eW):eW=eM[153],eM[154]!==eF.language||eM[155]!==eH.result||eM[156]!==eH.status||eM[157]!==eJ||eM[158]!==e1?(eL=eJ&&(0,t.jsx)(N.Snackbar,{open:e1,autoHideDuration:6e3,onClose:e2,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,t.jsx)(s.Alert,{onClose:e2,severity:"info",variant:"filled",sx:{width:"100%"},children:eJ&&eH?.status==="finished"&&eH?.result?.toLowerCase().startsWith(eJ?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,X.default)("youWin",eF.language)}):eH?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,X.default)("draw",eF.language)}):(0,t.jsx)(t.Fragment,{children:(0,X.default)("opponentWins",eF.language)})})}),eM[154]=eF.language,eM[155]=eH.result,eM[156]=eH.status,eM[157]=eJ,eM[158]=e1,eM[159]=eL):eL=eM[159],eM[160]!==_||eM[161]!==W||eM[162]!==L||eM[163]!==ec||eM[164]!==e_||eM[165]!==eW||eM[166]!==eL?(eR=(0,t.jsxs)(i.ThemeProvider,{theme:ei,defaultMode:"dark",noSsr:!0,children:[_,W,L,ec,e_,eW,eL]}),eM[160]=_,eM[161]=W,eM[162]=L,eM[163]=ec,eM[164]=e_,eM[165]=eW,eM[166]=eL,eM[167]=eR):eR=eM[167],eR}function el(e){return{color:"#fff",zIndex:e.zIndex.drawer+1}}e.s(["default",0,function(e){let o,i,n=(0,r.c)(3),{children:s}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(Z.default,{}),n[0]=o):o=n[0],n[1]!==s?(i=(0,t.jsx)(l.Suspense,{fallback:o,children:(0,t.jsx)(en,{children:s})}),n[1]=s,n[2]=i):i=n[2],i}],38646)}]);