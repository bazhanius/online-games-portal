(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70915,e=>{"use strict";var t=e.i(71645);function r(e){return t.Children.toArray(e).filter(e=>t.isValidElement(e))}e.s(["default",()=>r])},8979,e=>{"use strict";var t=e.i(54624),r=e.i(43476);let o=(0,t.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");e.s(["default",0,o])},80646,4052,8187,52835,80132,97579,e=>{"use strict";e.i(47167);var t=e.i(71645),r=e.i(7670),o=e.i(19130);let i=t.createContext();var l=e.i(40799),a=e.i(75149),n=e.i(94425),s=e.i(40672),u=e.i(19727);function c(e){return(0,u.default)("MuiTable",e)}(0,s.default)("MuiTable",["root","stickyHeader"]);var d=e.i(43476);let h=(0,l.styled)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((0,a.default)(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),f="table",p=t.forwardRef(function(e,l){let a=(0,n.useDefaultProps)({props:e,name:"MuiTable"}),{className:s,component:u=f,padding:p="normal",size:m="medium",stickyHeader:g=!1,...b}=a,y={...a,component:u,padding:p,size:m,stickyHeader:g},v=(e=>{let{classes:t,stickyHeader:r}=e;return(0,o.default)({root:["root",r&&"stickyHeader"]},c,t)})(y),x=t.useMemo(()=>({padding:p,size:m,stickyHeader:g}),[p,m,g]);return(0,d.jsx)(i.Provider,{value:x,children:(0,d.jsx)(h,{as:u,role:u===f?null:"table",ref:l,className:(0,r.default)(v.root,s),ownerState:y,...b})})});e.s(["Table",0,p],80646);let m=t.createContext();function g(e){return(0,u.default)("MuiTableBody",e)}e.s(["default",0,m],4052),(0,s.default)("MuiTableBody",["root"]);let b=(0,l.styled)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),y={variant:"body"},v="tbody",x=t.forwardRef(function(e,t){let i=(0,n.useDefaultProps)({props:e,name:"MuiTableBody"}),{className:l,component:a=v,...s}=i,u={...i,component:a},c=(e=>{let{classes:t}=e;return(0,o.default)({root:["root"]},g,t)})(u);return(0,d.jsx)(m.Provider,{value:y,children:(0,d.jsx)(b,{className:(0,r.default)(c.root,l),as:a,ref:t,role:a===v?null:"rowgroup",ownerState:u,...s})})});function S(e){return(0,u.default)("MuiTableRow",e)}e.s(["TableBody",0,x],8187);let k=(0,s.default)("MuiTableRow",["root","selected","hover","head","footer"]),w=(0,l.styled)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((0,a.default)(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${k.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${k.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),C=t.forwardRef(function(e,i){let l=(0,n.useDefaultProps)({props:e,name:"MuiTableRow"}),{className:a,component:s="tr",hover:u=!1,selected:c=!1,...h}=l,f=t.useContext(m),p={...l,component:s,hover:u,selected:c,head:f&&"head"===f.variant,footer:f&&"footer"===f.variant},g=(e=>{let{classes:t,selected:r,hover:i,head:l,footer:a}=e;return(0,o.default)({root:["root",r&&"selected",i&&"hover",l&&"head",a&&"footer"]},S,t)})(p);return(0,d.jsx)(w,{as:s,ref:i,className:(0,r.default)(g.root,a),role:"tr"===s?null:"row",ownerState:p,...h})});e.s(["TableRow",0,C],52835);var j=e.i(42196);function M(e){return(0,u.default)("MuiTableCell",e)}let _=(0,s.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),R=(0,l.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,j.default)(r.size)}`],"normal"!==r.padding&&t[`padding${(0,j.default)(r.padding)}`],"inherit"!==r.align&&t[`align${(0,j.default)(r.align)}`],r.stickyHeader&&t.stickyHeader]}})((0,a.default)(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${_.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),O=t.forwardRef(function(e,l){let a,s=(0,n.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:u="inherit",className:c,component:h,padding:f,scope:p,size:g,sortDirection:b,variant:y,...v}=s,x=t.useContext(i),S=t.useContext(m),k=S&&"head"===S.variant,w=p;"td"===(a=h||(k?"th":"td"))?w=void 0:!w&&k&&(w="col");let C=y||S&&S.variant,_={...s,align:u,component:a,padding:f||(x&&x.padding?x.padding:"normal"),size:g||(x&&x.size?x.size:"medium"),sortDirection:b,stickyHeader:"head"===C&&x&&x.stickyHeader,variant:C},O=(e=>{let{classes:t,variant:r,align:i,padding:l,size:a,stickyHeader:n}=e,s={root:["root",r,n&&"stickyHeader","inherit"!==i&&`align${(0,j.default)(i)}`,"normal"!==l&&`padding${(0,j.default)(l)}`,`size${(0,j.default)(a)}`]};return(0,o.default)(s,M,t)})(_),T=null;return b&&(T="asc"===b?"ascending":"descending"),(0,d.jsx)(R,{as:a,ref:l,className:(0,r.default)(O.root,c),"aria-sort":T,scope:w,ownerState:_,...v})});function T(e){return(0,u.default)("MuiTableContainer",e)}e.s(["TableCell",0,O],80132),(0,s.default)("MuiTableContainer",["root"]);let W=(0,l.styled)("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),L=t.forwardRef(function(e,t){let i=(0,n.useDefaultProps)({props:e,name:"MuiTableContainer"}),{className:l,component:a="div",...s}=i,u={...i,component:a},c=(e=>{let{classes:t}=e;return(0,o.default)({root:["root"]},T,t)})(u);return(0,d.jsx)(W,{ref:t,as:a,className:(0,r.default)(c.root,l),ownerState:u,...s})});e.s(["TableContainer",0,L],97579)},32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},16362,e=>{"use strict";let t=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;function r(e,t=null,o=null){window}e.s(["getRandomInt",()=>t,"notifyMe",()=>r])},36057,e=>{"use strict";e.i(47167);var t=e.i(71645),r=e.i(7670),o=e.i(46051),i=e.i(19727),l=e.i(19130),a=e.i(1434),n=e.i(84429),s=e.i(61801),u=e.i(39416),c=e.i(17494);let d=(e,t,r)=>{let o=e.keys[0];if(Array.isArray(t))t.forEach((t,o)=>{r((t,r)=>{o<=e.keys.length-1&&(0===o?Object.assign(t,r):t[e.up(e.keys[o])]=r)},t)});else if(t&&"object"==typeof t){let i,l;(Object.keys(t).length>e.keys.length?e.keys:(i=e.keys,l=Object.keys(t),i.filter(e=>l.includes(e)))).forEach(i=>{if(e.keys.includes(i)){let l=t[i];void 0!==l&&r((t,r)=>{o===i?Object.assign(t,r):t[e.up(i)]=r},l)}})}else("number"==typeof t||"string"==typeof t)&&r((e,t)=>{Object.assign(e,t)},t)};function h(e){return`--Grid-${e}Spacing`}function f(e){return`--Grid-parent-${e}Spacing`}let p="--Grid-columns",m="--Grid-parent-columns",g=({theme:e,ownerState:t})=>{let r={};return d(e.breakpoints,t.size,(e,t)=>{let o={};"grow"===t&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof t&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${m}) - (var(${m}) - ${t}) * (var(${f("column")}) / var(${m})))`}),e(r,o)}),r},b=({theme:e,ownerState:t})=>{let r={};return d(e.breakpoints,t.offset,(e,t)=>{let o={};"auto"===t&&(o={marginLeft:"auto"}),"number"==typeof t&&(o={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${m}) + var(${f("column")}) * ${t} / var(${m}))`}),e(r,o)}),r},y=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={[p]:12};return d(e.breakpoints,t.columns,(e,t)=>{let o=t??12;e(r,{[p]:o,"> *":{[m]:o}})}),r},v=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return d(e.breakpoints,t.rowSpacing,(t,o)=>{let i="string"==typeof o?o:e.spacing?.(o);t(r,{[h("row")]:i,"> *":{[f("row")]:i}})}),r},x=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return d(e.breakpoints,t.columnSpacing,(t,o)=>{let i="string"==typeof o?o:e.spacing?.(o);t(r,{[h("column")]:i,"> *":{[f("column")]:i}})}),r},S=({theme:e,ownerState:t})=>{if(!t.container)return{};let r={};return d(e.breakpoints,t.direction,(e,t)=>{e(r,{flexDirection:t})}),r},k=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${h("row")}) var(${h("column")})`}});var w=e.i(43476);let C=(0,c.default)(),j=(0,a.default)("div",{name:"MuiGrid",slot:"Root"});function M(e){return(0,n.default)({props:e,name:"MuiGrid",defaultTheme:C})}var _=e.i(40799),R=e.i(94425),O=e.i(54469);let T=function(e={}){let{createStyledComponent:a=j,useThemeProps:n=M,useTheme:c=s.default,componentName:d="MuiGrid"}=e;function h(e,t,r=()=>!0){let o={};return null===e||(Array.isArray(e)?e.forEach((e,i)=>{null!==e&&r(e)&&t.keys[i]&&(o[t.keys[i]]=e)}):"object"==typeof e?Object.keys(e).forEach(t=>{let i=e[t];null!=i&&r(i)&&(o[t]=i)}):o[t.keys[0]]=e),o}let f=a(y,x,v,g,S,k,b),p=t.forwardRef(function(e,a){var s;let p,m=c(),g=n(e),b=(0,u.extendSxProp)(g);s=m.breakpoints,p=[],void 0!==b.item&&(delete b.item,p.push("item")),void 0!==b.zeroMinWidth&&(delete b.zeroMinWidth,p.push("zeroMinWidth")),s.keys.forEach(e=>{void 0!==b[e]&&(p.push(e),delete b[e])});let{className:y,children:v,columns:x=12,container:S=!1,component:k="div",direction:C="row",wrap:j="wrap",size:M={},offset:_={},spacing:R=0,rowSpacing:O=R,columnSpacing:T=R,unstable_level:W=0,...L}=b,F=h(M,m.breakpoints,e=>!1!==e),$=h(_,m.breakpoints),z=e.columns??(W?void 0:x),B=e.spacing??(W?void 0:R),A=e.rowSpacing??e.spacing??(W?void 0:O),G=e.columnSpacing??e.spacing??(W?void 0:T),E={...b,level:W,columns:z,container:S,direction:C,wrap:j,spacing:B,rowSpacing:A,columnSpacing:G,size:F,offset:$},P=((e,t)=>{let r,{container:o,direction:a,spacing:n,wrap:s,size:u}=e,c={root:["root",o&&"container","wrap"!==s&&`wrap-xs-${String(s)}`,...void 0===a?[]:"object"==typeof a?Object.entries(a).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(a)}`],...(r=[],Object.entries(u).forEach(([e,t])=>{!1!==t&&void 0!==t&&r.push(`grid-${e}-${String(t)}`)}),r),...o?((e,t="xs")=>{function r(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(r(e))return[`spacing-${t}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let t=[];return Object.entries(e).forEach(([e,o])=>{r(o)&&t.push(`spacing-${e}-${String(o)}`)}),t}return[]})(n,t.breakpoints.keys[0]):[]]};return(0,l.default)(c,e=>(0,i.default)(d,e),{})})(E,m);return(0,w.jsx)(f,{ref:a,as:k,ownerState:E,className:(0,r.default)(P.root,y),...L,children:t.Children.map(v,e=>t.isValidElement(e)&&(0,o.default)(e,["Grid"])&&S&&e.props.container?t.cloneElement(e,{unstable_level:e.props?.unstable_level??W+1}):e)})});return p.muiName="Grid",p}({createStyledComponent:(0,_.styled)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>(0,R.useDefaultProps)({props:e,name:"MuiGrid"}),useTheme:O.default});e.s(["Grid",0,T],36057)},39013,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(932),o=e.i(18566),i=e.i(71645),l=e.i(3974),a=e.i(13854),n=e.i(76552),s=e.i(69073),u=e.i(97555),c=e.i(37828),d=e.i(36057),h=e.i(69120),f=e.i(23411),p=e.i(63745),m=e.i(66796),g=e.i(56105),b=e.i(59722),y=e.i(12872),v=e.i(8979),x=e.i(83270),S=e.i(88830),k=e.i(18452);e.i(87812);var w=e.i(70607),C=e.i(92863),j=e.i(37563);let M=function(e){let o,l,a,s,u,c,d,h,f=(0,r.c)(24),{gameId:m,board:g,zoomLvl:b,canMove:y,playerColor:v,winningPositions:k}=e,{currentUser:w}=(0,i.useContext)(x.CurrentUserContext),{socket:C}=(0,i.useContext)(S.SocketContext),{mode:M,systemMode:_}=(0,j.useColorScheme)(),[R,O]=(0,i.useState)(null),T=(0,i.useRef)();f[0]!==g||f[1]!==R?(o=()=>{g&&JSON.stringify(g)!==JSON.stringify(R)&&(T.current=g,O([...g]))},f[0]=g,f[1]=R,f[2]=o):o=f[2],f[3]!==g||f[4]!==y||f[5]!==v?(l=[g,y,v],f[3]=g,f[4]=y,f[5]=v,f[6]=l):l=f[6],(0,i.useEffect)(o,l),f[7]!==y||f[8]!==w||f[9]!==m||f[10]!==C?(a=(e,t)=>{C&&y&&C.emit("update game",{name:"connect4",gameId:m,login:w.login,token:w.token,move:{column:parseInt(e.column)}})},f[7]=y,f[8]=w,f[9]=m,f[10]=C,f[11]=a):a=f[11];let W=a;f[12]===Symbol.for("react.memo_cache_sentinel")?(s={p:1,textAlign:"center",width:"100%"},f[12]=s):s=f[12];let L=`connect4-board ${b<100?" connect4-board__"+b:""}`,F=("system"===M?_:M)==="dark"?"#070707":"#fefefe";return f[13]!==F?(u={backgroundColor:F},f[13]=F,f[14]=u):u=f[14],f[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"connect4-board-foreground",style:{background:'url("/online-games-portal/img/connect4/connect4-foreground.svg") no-repeat center center / cover'}}),f[15]=c):c=f[15],f[16]!==R||f[17]!==W||f[18]!==k?(d=R&&R.map((e,r)=>{let o=r%7,i=Math.floor(r/6),l=k.indexOf(r)>-1;return(0,t.jsxs)("div",{className:"connect4-board-cell","data-column":o,"data-row":i,onClick:t=>W(t.target.dataset,e),children:[(0===e||1===e)&&(0,t.jsx)("div",{className:"connect4-board-cell-chip",children:(0,t.jsx)("img",{width:"100%",height:"100%",src:`/online-games-portal/img/connect4/connect4-${0===e?"yellow":"red"}.svg`})}),l&&(0,t.jsx)("div",{className:"connect4-board-cell-winning-star"})]},r)}),f[16]=R,f[17]=W,f[18]=k,f[19]=d):d=f[19],f[20]!==L||f[21]!==u||f[22]!==d?(h=(0,t.jsx)(n.Box,{sx:s,children:(0,t.jsx)(p.Stack,{direction:"column",alignItems:"center",children:(0,t.jsxs)("div",{className:L,style:u,children:[c,d]})})}),f[20]=L,f[21]=u,f[22]=d,f[23]=h):h=f[23],h};class _{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let r=this.findDoubleThreat();if(-1!==r)return r;let o=this.findStrategicMove();return -1!==o?o:this.getRandomValidMove()}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);this.board[t][r]=e;let o=this.checkWin(this.board,t,r,e);if(this.board[t][r]=null,o)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),r=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&r++,this.checkVerticalThreat(e,t,this.playerSymbol)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&r++,r>=2)return e}return -1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let r=0;r<this.COLS;r++){if(this.isColumnFull(r))continue;let o=e[r],i=this.getFirstEmptyRow(r);if(o+=this.evaluatePosition(r,i,this.playerSymbol),i>0){let e=i-1;o-=.5*this.evaluatePosition(r,e,this.opponentSymbol)}t.push({col:r,score:o})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let r=t.filter(e=>e.score>=.8*t[0].score),o=Math.floor(Math.random()*r.length);return r[o].col}evaluatePosition(e,t,r){let o=0;for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1]]){let a=this.getLine(e,t,i,l,r);o+=this.evaluateLine(a,r)}return o}getLine(e,t,r,o,i){let l=[];for(let i=-3;i<=3;i++){let a=e+i*r,n=t+i*o;if(a>=0&&a<this.COLS&&n>=0&&n<this.ROWS){let e=this.board[a][n];l.push(e)}else l.push("WALL")}return l}evaluateLine(e,t){let r=0;for(let o=0;o<=e.length-4;o++){let i=e.slice(o,o+4);r+=this.evaluateSegment(i,t)}return r}evaluateSegment(e,t){let r="R"===t?"Y":"R",o=0,i=0,l=0;for(let a of e)a===t?o++:a===r?i++:null===a&&l++;return o>0&&i>0?0:4===o?1e3:3===o&&1===l?100:2===o&&2===l?10:1===o&&3===l?1:3===i&&1===l?-50:2===i&&2===l?-10:0}checkHorizontalThreat(e,t,r){let o=0,i=0;for(let l=e-1;l>=0&&l>=e-3;l--)if(this.board[l][t]===r)o++;else if(null===this.board[l][t])i++;else break;for(let l=e+1;l<this.COLS&&l<=e+3;l++)if(this.board[l][t]===r)o++;else if(null===this.board[l][t])i++;else break;return o>=2&&i>=1}checkVerticalThreat(e,t,r){let o=0;for(let i=t-1;i>=0&&i>=t-3;i--)if(this.board[e][i]===r)o++;else break;return o>=2}checkDiagonalThreat(e,t,r,o,i){let l=0,a=0;for(let n=1;n<=3;n++){let s=e+n*o,u=t+n*i;if(s<0||s>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[s][u]===r)l++;else if(null===this.board[s][u])a++;else break}for(let n=1;n<=3;n++){let s=e-n*o,u=t-n*i;if(s<0||s>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[s][u]===r)l++;else if(null===this.board[s][u])a++;else break}return l>=2&&a>=1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,r,o){for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1]]){let a=1;for(let n=1;n<4;n++){let s=t+n*i,u=r+n*l;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==o)break;a++}for(let n=1;n<4;n++){let s=t-n*i,u=r-n*l;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==o)break;a++}if(a>=4)return!0}return!1}}class R{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let r=this.findAndBlockFutureThreats();if(-1!==r)return r;let o=this.findDoubleThreat();if(-1!==o)return o;let i=this.findStrategicMove();return -1!==i?i:this.getRandomValidMove()}findAndBlockFutureThreats(){let e=[];for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);if(-1===r)continue;let o=this.evaluateOpponentThreat(t,r);o>0&&e.push({col:t,threatLevel:o})}return 0===e.length?-1:(e.sort((e,t)=>t.threatLevel-e.threatLevel),e[0].col)}evaluateOpponentThreat(e,t){let r;return this.board[e][t]=this.opponentSymbol,r=0+50*this.countThreats(e,t,this.opponentSymbol)+30*this.evaluateOpenLines(e,t,this.opponentSymbol),t>=3&&(r+=(6-t)*20),this.canBlockFutureThreat(e,t)||(r+=100),this.board[e][t]=null,r}countThreats(e,t,r){let o=0;for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1]]){let a=[];for(let r=-3;r<=3;r++){let o=e+r*i,n=t+r*l;o>=0&&o<this.COLS&&n>=0&&n<this.ROWS?a.push(this.board[o][n]):a.push("WALL")}for(let e=0;e<=3;e++){let t=a.slice(e,e+4);this.isDangerousSegment(t,r)&&o++}}return o}isDangerousSegment(e,t){let r=0,o=0;for(let i of e)if(i===t)r++;else if(null===i)o++;else if("WALL"!==i)return!1;return r>=2&&o>=1&&r+o===4}evaluateOpenLines(e,t,r){let o=0;for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1]])this.checkOpenEnds(e,t,i,l,r)&&o++;return o}checkOpenEnds(e,t,r,o,i){let l=!1;for(let a=1;a<=3;a++){let n=e+a*r,s=t+a*o;if(n<0||n>=this.COLS||s<0||s>=this.ROWS)break;if(null===this.board[n][s]){l=!0;break}if(this.board[n][s]!==i)break}let a=!1;for(let l=1;l<=3;l++){let n=e-l*r,s=t-l*o;if(n<0||n>=this.COLS||s<0||s>=this.ROWS)break;if(null===this.board[n][s]){a=!0;break}if(this.board[n][s]!==i)break}return l||a}canBlockFutureThreat(e,t){for(let r=Math.max(0,e-1);r<=Math.min(this.COLS-1,e+1);r++)if(r!==e&&!this.isColumnFull(r)){let o=this.getFirstEmptyRow(r);this.board[r][o]=this.playerSymbol,this.board[e][t]=this.opponentSymbol;let i=this.countThreats(e,t,this.opponentSymbol)>0;if(this.board[e][t]=null,this.board[r][o]=null,!i)return!0}return!1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let r=0;r<this.COLS;r++){if(this.isColumnFull(r))continue;let o=this.getFirstEmptyRow(r),i=e[r];i+=2*this.evaluatePosition(r,o,this.playerSymbol),i-=3*this.evaluatePosition(r,o,this.opponentSymbol),5===o&&this.wouldGiveBottomLine(r,o)&&(i-=100),i+=this.getAdjacentBonus(r,o,this.playerSymbol),i-=.5*this.getAdjacentBonus(r,o,this.opponentSymbol),t.push({col:r,score:i})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let r=t.slice(0,3),o=Math.floor(Math.random()*r.length);return r[o].col}wouldGiveBottomLine(e,t){if(5!==t)return!1;this.board[e][t]=this.playerSymbol;let r=!1;for(let e=0;e<=3;e++){let t=[this.board[e][5],this.board[e+1][5],this.board[e+2][5],this.board[e+3][5]],o=0,i=0;for(let e of t)null===e?o++:e===this.playerSymbol&&i++;if(3===o&&1===i){for(let t=e;t<e+4;t++)if(null===this.board[t][5]&&!this.isColumnFull(t)){this.board[t][5]=this.opponentSymbol;let e=this.checkWin(this.board,t,5,this.opponentSymbol);if(this.board[t][5]=null,e){r=!0;break}}}if(r)break}return this.board[e][t]=null,r}getAdjacentBonus(e,t,r){let o=0;for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1],[-1,0],[0,-1],[-1,-1],[-1,1]]){let a=e+i,n=t+l;a>=0&&a<this.COLS&&n>=0&&n<this.ROWS&&this.board[a][n]===r&&(o+=5,0!==i&&0!==l&&(o+=3))}return o}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let r=this.getFirstEmptyRow(t);this.board[t][r]=e;let o=this.checkWin(this.board,t,r,e);if(this.board[t][r]=null,o)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),r=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&r++,this.checkVerticalThreat(e,t,this.playerSymbol)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&r++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&r++,r>=2)return e}return -1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,r,o){for(let[i,l]of[[1,0],[0,1],[1,1],[1,-1]]){let a=1;for(let n=1;n<4;n++){let s=t+n*i,u=r+n*l;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==o)break;a++}for(let n=1;n<4;n++){let s=t-n*i,u=r-n*l;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==o)break;a++}if(a>=4)return!0}return!1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}}var O=e.i(45),T=e.i(16362);function W(){let e,C,j,W,F,$,z,B,A,G,E,P,N,D,H,I,V,U,J,q,K,X,Y,Q,Z,ee,et,er,eo,ei,el,ea,en,es,eu,ec,ed,eh,ef,ep,em,eg,eb,ey,ev,ex,eS,ek,ew,eC,ej,eM,e_,eR,eO,eT=(0,r.c)(170);(0,o.useRouter)();let{currentUser:eW}=(0,i.useContext)(x.CurrentUserContext),{socket:eL}=(0,i.useContext)(S.SocketContext),[eF,e$]=(0,i.useState)(75);eT[0]!==eF?(e=e=>{"zoomOut"===e&&(100===eF&&e$(75),75===eF&&e$(50)),"zoomIn"===e&&(50===eF&&e$(75),75===eF&&e$(100))},eT[0]=eF,eT[1]=e):e=eT[1];let ez=e,eB=(0,o.useSearchParams)();eT[2]!==eB?(C=eB.get("id"),eT[2]=eB,eT[3]=C):C=eT[3];let eA=C,[eG,eE]=(0,i.useState)(!1);eT[4]!==eG?(j=e=>{eE(!0),eG!==e&&eE(e)},eT[4]=eG,eT[5]=j):j=eT[5];let eP=j,[eN,eD]=(0,i.useState)(!0),[eH,eI]=(0,i.useState)(!1);eT[6]===Symbol.for("react.memo_cache_sentinel")?(W={},eT[6]=W):W=eT[6];let[eV,eU]=(0,i.useState)(W),[eJ,eq]=(0,i.useState)(null);eT[7]===Symbol.for("react.memo_cache_sentinel")?(F=[],eT[7]=F):F=eT[7];let[eK,eX]=(0,i.useState)(F),[eY,eQ]=(0,i.useState)(!1),[eZ,e1]=i.default.useState(!1);eT[8]===Symbol.for("react.memo_cache_sentinel")?($=(e,t)=>{"clickaway"!==t&&e1(!1)},eT[8]=$):$=eT[8];let e0=$,e2=eJ&&"white"===eJ?"black":"white",e3=eV.players?.black==="Computer";if(eT[9]!==eL?(z=()=>{eL&&eL.emit("list of games",{})},eT[9]=eL,eT[10]=z):z=eT[10],eT[11]===Symbol.for("react.memo_cache_sentinel")?(B=[],eT[11]=B):B=eT[11],(0,i.useEffect)(z,B),eT[12]!==eW||eT[13]!==eV.players?(A=()=>{eV.players&&eW.login&&(eV.players.white===eW.login?eq("white"):eV.players.black===eW.login&&eq("black"))},eT[12]=eW,eT[13]=eV.players,eT[14]=A):A=eT[14],eT[15]!==eW||eT[16]!==eV?(G=[eV,eW],eT[15]=eW,eT[16]=eV,eT[17]=G):G=eT[17],(0,i.useEffect)(A,G),eT[18]!==eW||eT[19]!==eA||eT[20]!==eV.moves||eT[21]!==e3||eT[22]!==eJ||eT[23]!==eL?(E=()=>{if(e3&&eJ&&eV.moves?.current_move==="black"){let e,t=(e=eV.moves.board,[...Array(7)].map((t,r)=>[...Array(6)].map((t,o)=>e[7*o+r]))),r=0===eW.computerStrength.connect4?new _(t,1).getBestMove():new R(t,1).getBestMove();eL&&Number.isFinite(r)&&setTimeout(()=>{eL.emit("update game",{name:"connect4",gameId:eA,login:eW.login,token:eW.token,move:{column:r}})},1500)}},eT[18]=eW,eT[19]=eA,eT[20]=eV.moves,eT[21]=e3,eT[22]=eJ,eT[23]=eL,eT[24]=E):E=eT[24],eT[25]!==eV?(P=[eV],eT[25]=eV,eT[26]=P):P=eT[26],(0,i.useEffect)(E,P),eT[27]!==eA||eT[28]!==eV.status||eT[29]!==eY||eT[30]!==eH||eT[31]!==eN||eT[32]!==eG||eT[33]!==eJ||eT[34]!==eL?(N=()=>{let e=e=>{if(eA in e){let t=e[eA];t.moves.board=function(e){let t=Array(42).fill(null),r=0;for(let o=0;o<e.length;o+=2){let i,l=e[o],a=parseInt(e[o+1],10);switch(l){case".":default:i=null;break;case"0":i=0;break;case"1":i=1}for(let e=0;e<a&&r<42;e++)t[r++]=i}return t}(t.moves.board),eV?.status==="starting"&&t?.status==="ongoing"&&(0,T.notifyMe)("opponentFound",t.name,t.players["black"===eJ?"white":"black"]),eU(t),"finished"===t.status&&"draw"!==t.result&&eX([...function(e,t){let r=[];for(let o=0;o<6;o++)for(let i=0;i<=3;i++){let l=[7*o+i,7*o+i+1,7*o+i+2,7*o+i+3];if(l.every(r=>e[r]===t)){let e=l.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"horizontal",row:o,startCol:i,indices:l,positions:e})}}for(let o=0;o<7;o++)for(let i=0;i<=2;i++){let l=[7*i+o,(i+1)*7+o,(i+2)*7+o,(i+3)*7+o];if(l.every(r=>e[r]===t)){let e=l.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"vertical",col:o,startRow:i,indices:l,positions:e})}}for(let o=0;o<=3;o++)for(let i=0;i<=2;i++){let l=[7*i+o,(i+1)*7+o+1,(i+2)*7+o+2,(i+3)*7+o+3];if(l.every(r=>e[r]===t)){let e=l.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"diagonal_down",startCol:o,startRow:i,indices:l,positions:e})}}for(let o=0;o<=3;o++)for(let i=3;i<6;i++){let l=[7*i+o,(i-1)*7+o+1,(i-2)*7+o+2,(i-3)*7+o+3];if(l.every(r=>e[r]===t)){let e=l.map(e=>[e%7,Math.floor(e/7)]);r.push({type:"diagonal_up",startCol:o,startRow:i,indices:l,positions:e})}}return{win:r.length>0,combinations:r,positions:r.flatMap(e=>e.positions),uniquePositions:Array.from(new Set(r.flatMap(e=>e.indices))).sort((e,t)=>e-t)}}(t.moves.board,+("white won"!==t.result)).uniquePositions]),eH&&eI(!1),eN&&eD(!1),"finished"!==e[eA].status||eY||(eQ(!0),e1(!0))}else eG?eN||eD(!0):eH||eI(!0)};return eL.on("list of games",e),()=>{eL.off("list of games",e)}},eT[27]=eA,eT[28]=eV.status,eT[29]=eY,eT[30]=eH,eT[31]=eN,eT[32]=eG,eT[33]=eJ,eT[34]=eL,eT[35]=N):N=eT[35],eT[36]!==eA||eT[37]!==eH||eT[38]!==eN||eT[39]!==eG||eT[40]!==eL?(D=[eL,eA,eG,eH,eN],eT[36]=eA,eT[37]=eH,eT[38]=eN,eT[39]=eG,eT[40]=eL,eT[41]=D):D=eT[41],(0,i.useEffect)(N,D),eH){let e;return eT[42]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(O.default,{}),eT[42]=e):e=eT[42],e}eT[43]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsx)(c.CircularProgress,{disableShrink:!0,color:"inherit"}),eT[43]=H):H=eT[43],eT[44]!==eN?(I=(0,t.jsx)(a.Backdrop,{sx:L,open:eN,children:H}),eT[44]=eN,eT[45]=I):I=eT[45],eT[46]===Symbol.for("react.memo_cache_sentinel")?(V={width:"100%"},eT[46]=V):V=eT[46],eT[47]!==eA||eT[48]!==eV||eT[49]!==eP?(U=(0,t.jsx)(n.Box,{sx:V,children:(0,t.jsx)(k.default,{type:"game",gameId:eA,gameInfo:eV,handleSetIsUserLeftGame:eP})}),eT[47]=eA,eT[48]=eV,eT[49]=eP,eT[50]=U):U=eT[50],eT[51]!==eW.language||eT[52]!==eW.login||eT[53]!==eN||eT[54]!==eJ?(J=(!eW.login||!eJ)&&!eN&&(0,t.jsx)(n.Box,{sx:{width:"100%"},children:(0,t.jsx)(l.Alert,{severity:"info",sx:{m:1},variant:"outlined",icon:(0,t.jsx)(v.default,{fontSize:"inherit"}),children:(0,w.default)("spectatorMode",eW.language)})}),eT[51]=eW.language,eT[52]=eW.login,eT[53]=eN,eT[54]=eJ,eT[55]=J):J=eT[55],eT[56]===Symbol.for("react.memo_cache_sentinel")?(q={p:1,pt:0},eT[56]=q):q=eT[56],eT[57]===Symbol.for("react.memo_cache_sentinel")?(K={pl:2},eT[57]=K):K=eT[57],eT[58]===Symbol.for("react.memo_cache_sentinel")?(X={fontWeight:"bold"},eT[58]=X):X=eT[58],eT[59]!==eW.language||eT[60]!==eV.players?.black||eT[61]!==eV.players?.white||eT[62]!==eV.status||eT[63]!==eJ?(Y="white"!==eJ&&eJ?"black"===eJ?eV.players?.black:"finished"===eV.status?(0,t.jsx)(u.Chip,{label:(0,w.default)("opponentLeftTheGame",eW.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):eV.players?.white||"":eV.players?.white,eT[59]=eW.language,eT[60]=eV.players?.black,eT[61]=eV.players?.white,eT[62]=eV.status,eT[63]=eJ,eT[64]=Y):Y=eT[64],eT[65]!==Y?(Q=(0,t.jsx)(d.Grid,{size:"grow",children:(0,t.jsx)(n.Box,{sx:K,children:(0,t.jsx)(m.Typography,{variant:"body1",sx:X,noWrap:!0,children:Y})})}),eT[65]=Y,eT[66]=Q):Q=eT[66],eT[67]===Symbol.for("react.memo_cache_sentinel")?(Z={transform:"rotate(180deg)"},eT[67]=Z):Z=eT[67];let e4=("white"!==eJ||eV?.moves?.current_move!=="white")&&("black"!==eJ||eV?.moves?.current_move!=="black")&&(eJ||eV?.moves?.current_move!=="white")?"disabled":"inherit";eT[68]!==e4?(ee=(0,t.jsx)(g.default,{sx:Z,color:e4}),eT[68]=e4,eT[69]=ee):ee=eT[69];let e7=eV?.moves?.current_move==="black"?"red":eV?.moves?.current_move==="white"?"gold":"gray",e5=eV?.moves?.current_move==="black"?'url("/online-games-portal/img/connect4/connect4-red.svg") no-repeat center center / cover':eV?.moves?.current_move==="white"?'url("/online-games-portal/img/connect4/connect4-yellow.svg") no-repeat center center / cover':"none";eT[70]!==e7||eT[71]!==e5?(et=(0,t.jsx)(n.Box,{sx:{display:"block",width:"24px",height:"24px",backgroundColor:e7,background:e5,borderRadius:"50%"}}),eT[70]=e7,eT[71]=e5,eT[72]=et):et=eT[72];let e6=("white"!==eJ||eV?.moves?.current_move!=="black")&&("black"!==eJ||eV?.moves?.current_move!=="white")&&(eJ||eV?.moves?.current_move!=="black")?"disabled":"inherit";eT[73]!==e6?(er=(0,t.jsx)(g.default,{color:e6}),eT[73]=e6,eT[74]=er):er=eT[74],eT[75]!==ee||eT[76]!==et||eT[77]!==er?(eo=(0,t.jsx)(d.Grid,{size:"auto",children:(0,t.jsxs)(p.Stack,{direction:"row",spacing:1,alignItems:"center",children:[ee,et,er]})}),eT[75]=ee,eT[76]=et,eT[77]=er,eT[78]=eo):eo=eT[78],eT[79]===Symbol.for("react.memo_cache_sentinel")?(ei={pr:2,textAlign:"right"},eT[79]=ei):ei=eT[79],eT[80]===Symbol.for("react.memo_cache_sentinel")?(el={fontWeight:"bold"},eT[80]=el):el=eT[80],eT[81]!==eW.language||eT[82]!==eV.players||eT[83]!==eV.status||eT[84]!==eJ?(ea="black"===eJ?eV.players?.white?eV.players.white:"finished"===eV.status?"":(0,t.jsx)(u.Chip,{label:(0,w.default)("waitingForOpponent",eW.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}):eV.players?.black?"Computer"===eV.players.black?(0,t.jsx)(t.Fragment,{children:(0,w.default)("computer",eW.language)}):eV.players.black:"finished"===eV.status?"":(0,t.jsx)(u.Chip,{label:(0,w.default)("waitingForOpponent",eW.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}),eT[81]=eW.language,eT[82]=eV.players,eT[83]=eV.status,eT[84]=eJ,eT[85]=ea):ea=eT[85],eT[86]!==eW.language||eT[87]!==eV.moves?.current_move||eT[88]!==eV.players||eT[89]!==eV.status||eT[90]!==eJ?(en="finished"!==eV.status&&("white"===eJ&&eV?.moves?.current_move==="black"||"black"===eJ&&eV?.moves?.current_move==="white")?"":"finished"===eV.status?("white"!==eJ||eV.players.black)&&("black"!==eJ||eV.players.white)&&(eJ||eV.players.black)?"":(0,t.jsx)(u.Chip,{label:(0,w.default)("opponentLeftTheGame",eW.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):"",eT[86]=eW.language,eT[87]=eV.moves?.current_move,eT[88]=eV.players,eT[89]=eV.status,eT[90]=eJ,eT[91]=en):en=eT[91],eT[92]!==ea||eT[93]!==en?(es=(0,t.jsx)(d.Grid,{size:"grow",children:(0,t.jsx)(n.Box,{sx:ei,children:(0,t.jsxs)(m.Typography,{variant:"body1",sx:el,noWrap:!0,children:[ea,en]})})}),eT[92]=ea,eT[93]=en,eT[94]=es):es=eT[94],eT[95]!==Q||eT[96]!==eo||eT[97]!==es?(eu=(0,t.jsxs)(d.Grid,{container:!0,spacing:3,sx:q,children:[Q,eo,es]}),eT[95]=Q,eT[96]=eo,eT[97]=es,eT[98]=eu):eu=eT[98],eT[99]===Symbol.for("react.memo_cache_sentinel")?(ec={p:3,pt:1,pb:0,textAlign:"center",width:"100%",justifyContent:"center"},eT[99]=ec):ec=eT[99],eT[100]===Symbol.for("react.memo_cache_sentinel")?(ed={alignItems:"center",alignContent:"center"},eT[100]=ed):ed=eT[100],eT[101]===Symbol.for("react.memo_cache_sentinel")?(eh={color:"#8d8d8e",fontFamily:"Roboto Condensed"},eT[101]=eh):eh=eT[101],eT[102]!==eW.language||eT[103]!==eV.moves?.current_move||eT[104]!==eV.status||eT[105]!==eJ?(ef=eJ&&eV?.status!=="finished"&&("white"===eJ&&eV?.moves?.current_move==="white"||"black"===eJ&&eV?.moves?.current_move==="black")?(0,t.jsx)(t.Fragment,{children:(0,w.default)("yourTurn",eW.language)}):"",eT[102]=eW.language,eT[103]=eV.moves?.current_move,eT[104]=eV.status,eT[105]=eJ,eT[106]=ef):ef=eT[106],eT[107]!==eW.language||eT[108]!==eV.result||eT[109]!==eV.status||eT[110]!==eJ?(ep=eJ&&eV?.status==="finished"&&eV?.result.toLowerCase().startsWith(eJ?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,w.default)("youWin",eW.language)}):eV?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,w.default)("draw",eW.language)}):"",eT[107]=eW.language,eT[108]=eV.result,eT[109]=eV.status,eT[110]=eJ,eT[111]=ep):ep=eT[111],eT[112]!==eW.language||eT[113]!==eV.moves?.current_move||eT[114]!==eV.players||eT[115]!==eV.status||eT[116]!==eJ?(em=eJ&&"finished"!==eV.status&&("white"===eJ&&eV?.moves?.current_move==="black"||"black"===eJ&&eV?.moves?.current_move==="white")?(0,t.jsx)(t.Fragment,{children:(0,w.default)("waitingForOpponent",eW.language)}):("finished"===eV.status&&("white"!==eJ||eV.players.black)&&("black"!==eJ||eV.players.white),""),eT[112]=eW.language,eT[113]=eV.moves?.current_move,eT[114]=eV.players,eT[115]=eV.status,eT[116]=eJ,eT[117]=em):em=eT[117],eT[118]!==eW.language||eT[119]!==eV.result||eT[120]!==eV.status||eT[121]!==e2||eT[122]!==eJ?(eg=eJ&&eV?.status==="finished"&&eV?.result.toLowerCase().startsWith(e2?.toLowerCase()||"draw")?(0,t.jsx)(t.Fragment,{children:(0,w.default)("opponentWins",eW.language)}):"",eT[118]=eW.language,eT[119]=eV.result,eT[120]=eV.status,eT[121]=e2,eT[122]=eJ,eT[123]=eg):eg=eT[123],eT[124]!==ef||eT[125]!==ep||eT[126]!==em||eT[127]!==eg?(eb=(0,t.jsx)(n.Box,{sx:ed,children:(0,t.jsxs)(m.Typography,{variant:"body2",sx:eh,noWrap:!0,children:[ef,ep,em,eg]})}),eT[124]=ef,eT[125]=ep,eT[126]=em,eT[127]=eg,eT[128]=eb):eb=eT[128];let e9=50===eF;eT[129]!==ez?(ey=e=>ez("zoomOut"),eT[129]=ez,eT[130]=ey):ey=eT[130],eT[131]===Symbol.for("react.memo_cache_sentinel")?(ev=(0,t.jsx)(y.default,{}),eT[131]=ev):ev=eT[131],eT[132]!==e9||eT[133]!==ey?(ex=(0,t.jsx)(h.IconButton,{disabled:e9,onClick:ey,children:ev}),eT[132]=e9,eT[133]=ey,eT[134]=ex):ex=eT[134];let e8=100===eF;eT[135]!==ez?(eS=e=>ez("zoomIn"),eT[135]=ez,eT[136]=eS):eS=eT[136],eT[137]===Symbol.for("react.memo_cache_sentinel")?(ek=(0,t.jsx)(b.default,{}),eT[137]=ek):ek=eT[137],eT[138]!==e8||eT[139]!==eS?(ew=(0,t.jsx)(h.IconButton,{disabled:e8,onClick:eS,children:ek}),eT[138]=e8,eT[139]=eS,eT[140]=ew):ew=eT[140],eT[141]!==ex||eT[142]!==ew?(eC=(0,t.jsx)(n.Box,{children:(0,t.jsxs)(s.ButtonGroup,{variant:"outlined","aria-label":"Basic button group",size:"small",children:[ex,ew]})}),eT[141]=ex,eT[142]=ew,eT[143]=eC):eC=eT[143],eT[144]!==eb||eT[145]!==eC?(ej=(0,t.jsx)(n.Box,{sx:ec,children:(0,t.jsxs)(p.Stack,{direction:"row",spacing:2,justifyContent:"space-between",children:[eb,eC]})}),eT[144]=eb,eT[145]=eC,eT[146]=ej):ej=eT[146],eT[147]===Symbol.for("react.memo_cache_sentinel")?(eM={flexGrow:1,display:"flex",justifyContent:"center",m:"5px 0"},eT[147]=eM):eM=eT[147];let te=eV?.moves?.board,tt=eV?.moves?.current_move===eJ&&eV?.status==="ongoing";return eT[148]!==eA||eT[149]!==eY||eT[150]!==eJ||eT[151]!==te||eT[152]!==tt||eT[153]!==eK||eT[154]!==eF?(e_=(0,t.jsx)(n.Box,{sx:eM,children:(0,t.jsx)(M,{gameId:eA,board:te,zoomLvl:eF,canMove:tt,playerColor:eJ,winningPositions:eK,isGameOver:eY})}),eT[148]=eA,eT[149]=eY,eT[150]=eJ,eT[151]=te,eT[152]=tt,eT[153]=eK,eT[154]=eF,eT[155]=e_):e_=eT[155],eT[156]!==eW.language||eT[157]!==eV.result||eT[158]!==eV.status||eT[159]!==eJ||eT[160]!==eZ?(eR=eJ&&(0,t.jsx)(f.Snackbar,{open:eZ,autoHideDuration:6e3,onClose:e0,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,t.jsx)(l.Alert,{onClose:e0,severity:"info",variant:"filled",sx:{width:"100%"},children:eJ&&eV?.status==="finished"&&eV?.result?.toLowerCase().startsWith(eJ?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,w.default)("youWin",eW.language)}):eV?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,w.default)("draw",eW.language)}):(0,t.jsx)(t.Fragment,{children:(0,w.default)("opponentWins",eW.language)})})}),eT[156]=eW.language,eT[157]=eV.result,eT[158]=eV.status,eT[159]=eJ,eT[160]=eZ,eT[161]=eR):eR=eT[161],eT[162]!==I||eT[163]!==U||eT[164]!==J||eT[165]!==eu||eT[166]!==ej||eT[167]!==e_||eT[168]!==eR?(eO=(0,t.jsxs)(t.Fragment,{children:[I,U,J,eu,ej,e_,eR]}),eT[162]=I,eT[163]=U,eT[164]=J,eT[165]=eu,eT[166]=ej,eT[167]=e_,eT[168]=eR,eT[169]=eO):eO=eT[169],eO}function L(e){return{color:"#fff",zIndex:e.zIndex.drawer+1}}e.s(["default",0,function(e){let o,l,a=(0,r.c)(3),{children:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(C.default,{}),a[0]=o):o=a[0],a[1]!==n?(l=(0,t.jsx)(i.Suspense,{fallback:o,children:(0,t.jsx)(W,{children:n})}),a[1]=n,a[2]=l):l=a[2],l}],39013)}]);