(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70915,e=>{"use strict";var t=e.i(71645);function o(e){return t.Children.toArray(e).filter(e=>t.isValidElement(e))}e.s(["default",()=>o])},8979,e=>{"use strict";var t=e.i(54624),o=e.i(43476);let r=(0,t.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");e.s(["default",0,r])},80646,4052,8187,52835,80132,97579,e=>{"use strict";e.i(47167);var t=e.i(71645),o=e.i(7670),r=e.i(19130);let i=t.createContext();var n=e.i(40799),a=e.i(75149),l=e.i(94425),s=e.i(40672),u=e.i(19727);function c(e){return(0,u.default)("MuiTable",e)}(0,s.default)("MuiTable",["root","stickyHeader"]);var d=e.i(43476);let h=(0,n.styled)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,o.stickyHeader&&t.stickyHeader]}})((0,a.default)(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),f="table",p=t.forwardRef(function(e,n){let a=(0,l.useDefaultProps)({props:e,name:"MuiTable"}),{className:s,component:u=f,padding:p="normal",size:m="medium",stickyHeader:g=!1,...b}=a,y={...a,component:u,padding:p,size:m,stickyHeader:g},v=(e=>{let{classes:t,stickyHeader:o}=e;return(0,r.default)({root:["root",o&&"stickyHeader"]},c,t)})(y),x=t.useMemo(()=>({padding:p,size:m,stickyHeader:g}),[p,m,g]);return(0,d.jsx)(i.Provider,{value:x,children:(0,d.jsx)(h,{as:u,role:u===f?null:"table",ref:n,className:(0,o.default)(v.root,s),ownerState:y,...b})})});e.s(["Table",0,p],80646);let m=t.createContext();function g(e){return(0,u.default)("MuiTableBody",e)}e.s(["default",0,m],4052),(0,s.default)("MuiTableBody",["root"]);let b=(0,n.styled)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),y={variant:"body"},v="tbody",x=t.forwardRef(function(e,t){let i=(0,l.useDefaultProps)({props:e,name:"MuiTableBody"}),{className:n,component:a=v,...s}=i,u={...i,component:a},c=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},g,t)})(u);return(0,d.jsx)(m.Provider,{value:y,children:(0,d.jsx)(b,{className:(0,o.default)(c.root,n),as:a,ref:t,role:a===v?null:"rowgroup",ownerState:u,...s})})});function S(e){return(0,u.default)("MuiTableRow",e)}e.s(["TableBody",0,x],8187);let w=(0,s.default)("MuiTableRow",["root","selected","hover","head","footer"]),k=(0,n.styled)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,o.head&&t.head,o.footer&&t.footer]}})((0,a.default)(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${w.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${w.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),C=t.forwardRef(function(e,i){let n=(0,l.useDefaultProps)({props:e,name:"MuiTableRow"}),{className:a,component:s="tr",hover:u=!1,selected:c=!1,...h}=n,f=t.useContext(m),p={...n,component:s,hover:u,selected:c,head:f&&"head"===f.variant,footer:f&&"footer"===f.variant},g=(e=>{let{classes:t,selected:o,hover:i,head:n,footer:a}=e;return(0,r.default)({root:["root",o&&"selected",i&&"hover",n&&"head",a&&"footer"]},S,t)})(p);return(0,d.jsx)(k,{as:s,ref:i,className:(0,o.default)(g.root,a),role:"tr"===s?null:"row",ownerState:p,...h})});e.s(["TableRow",0,C],52835);var j=e.i(42196);function M(e){return(0,u.default)("MuiTableCell",e)}let _=(0,s.default)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),R=(0,n.styled)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,t[o.variant],t[`size${(0,j.default)(o.size)}`],"normal"!==o.padding&&t[`padding${(0,j.default)(o.padding)}`],"inherit"!==o.align&&t[`align${(0,j.default)(o.align)}`],o.stickyHeader&&t.stickyHeader]}})((0,a.default)(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${_.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),O=t.forwardRef(function(e,n){let a,s=(0,l.useDefaultProps)({props:e,name:"MuiTableCell"}),{align:u="inherit",className:c,component:h,padding:f,scope:p,size:g,sortDirection:b,variant:y,...v}=s,x=t.useContext(i),S=t.useContext(m),w=S&&"head"===S.variant,k=p;"td"===(a=h||(w?"th":"td"))?k=void 0:!k&&w&&(k="col");let C=y||S&&S.variant,_={...s,align:u,component:a,padding:f||(x&&x.padding?x.padding:"normal"),size:g||(x&&x.size?x.size:"medium"),sortDirection:b,stickyHeader:"head"===C&&x&&x.stickyHeader,variant:C},O=(e=>{let{classes:t,variant:o,align:i,padding:n,size:a,stickyHeader:l}=e,s={root:["root",o,l&&"stickyHeader","inherit"!==i&&`align${(0,j.default)(i)}`,"normal"!==n&&`padding${(0,j.default)(n)}`,`size${(0,j.default)(a)}`]};return(0,r.default)(s,M,t)})(_),T=null;return b&&(T="asc"===b?"ascending":"descending"),(0,d.jsx)(R,{as:a,ref:n,className:(0,o.default)(O.root,c),"aria-sort":T,scope:k,ownerState:_,...v})});function T(e){return(0,u.default)("MuiTableContainer",e)}e.s(["TableCell",0,O],80132),(0,s.default)("MuiTableContainer",["root"]);let L=(0,n.styled)("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),W=t.forwardRef(function(e,t){let i=(0,l.useDefaultProps)({props:e,name:"MuiTableContainer"}),{className:n,component:a="div",...s}=i,u={...i,component:a},c=(e=>{let{classes:t}=e;return(0,r.default)({root:["root"]},T,t)})(u);return(0,d.jsx)(L,{ref:t,as:a,className:(0,o.default)(c.root,n),ownerState:u,...s})});e.s(["TableContainer",0,W],97579)},32963,e=>{"use strict";var t=e.i(67719);e.s(["Paper",()=>t.default])},16362,e=>{"use strict";let t=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;function o(e,t=null,r=null){let i={opponentFound:"Соперник найден",test:"Всё в порядке!"},n={chess:"Шахматы",battleship:"Морской бой",reversi:"Реверси",connect4:"Четыре в ряд",connect5:"Крестики-нолики (5 в ряд)",nardy:"Длинные нарды"};"Notification"in window&&i&&("granted"===Notification.permission?new Notification(i[e],{badge:`${window.location.origin}/online-games-portal/img/lan-games-logo-badge.png`,icon:"test"===e?`${window.location.origin}/online-games-portal/img/LAN-chess.png`:`${window.location.origin}/online-games-portal/img/LAN-${t}.png`,body:"test"===e?"Так будут приходить уведомления":`${r} подключился к игре ${n[t]}`}):"denied"!==Notification.permission&&Notification.requestPermission().then(o=>{"granted"===o&&new Notification(i[e],{badge:`${window.location.origin}/online-games-portal/img/lan-games-logo-badge.png`,icon:"test"===e?`${window.location.origin}/online-games-portal/img/LAN-chess.png`:`${window.location.origin}/online-games-portal/img/LAN-${t}.png`,body:"test"===e?"Так будут приходить уведомления":`${r} подключился к игре ${n[t]}`})}))}e.s(["getRandomInt",()=>t,"notifyMe",()=>o])},36057,e=>{"use strict";e.i(47167);var t=e.i(71645),o=e.i(7670),r=e.i(46051),i=e.i(19727),n=e.i(19130),a=e.i(1434),l=e.i(84429),s=e.i(61801),u=e.i(39416),c=e.i(17494);let d=(e,t,o)=>{let r=e.keys[0];if(Array.isArray(t))t.forEach((t,r)=>{o((t,o)=>{r<=e.keys.length-1&&(0===r?Object.assign(t,o):t[e.up(e.keys[r])]=o)},t)});else if(t&&"object"==typeof t){let i,n;(Object.keys(t).length>e.keys.length?e.keys:(i=e.keys,n=Object.keys(t),i.filter(e=>n.includes(e)))).forEach(i=>{if(e.keys.includes(i)){let n=t[i];void 0!==n&&o((t,o)=>{r===i?Object.assign(t,o):t[e.up(i)]=o},n)}})}else("number"==typeof t||"string"==typeof t)&&o((e,t)=>{Object.assign(e,t)},t)};function h(e){return`--Grid-${e}Spacing`}function f(e){return`--Grid-parent-${e}Spacing`}let p="--Grid-columns",m="--Grid-parent-columns",g=({theme:e,ownerState:t})=>{let o={};return d(e.breakpoints,t.size,(e,t)=>{let r={};"grow"===t&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof t&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${m}) - (var(${m}) - ${t}) * (var(${f("column")}) / var(${m})))`}),e(o,r)}),o},b=({theme:e,ownerState:t})=>{let o={};return d(e.breakpoints,t.offset,(e,t)=>{let r={};"auto"===t&&(r={marginLeft:"auto"}),"number"==typeof t&&(r={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${m}) + var(${f("column")}) * ${t} / var(${m}))`}),e(o,r)}),o},y=({theme:e,ownerState:t})=>{if(!t.container)return{};let o={[p]:12};return d(e.breakpoints,t.columns,(e,t)=>{let r=t??12;e(o,{[p]:r,"> *":{[m]:r}})}),o},v=({theme:e,ownerState:t})=>{if(!t.container)return{};let o={};return d(e.breakpoints,t.rowSpacing,(t,r)=>{let i="string"==typeof r?r:e.spacing?.(r);t(o,{[h("row")]:i,"> *":{[f("row")]:i}})}),o},x=({theme:e,ownerState:t})=>{if(!t.container)return{};let o={};return d(e.breakpoints,t.columnSpacing,(t,r)=>{let i="string"==typeof r?r:e.spacing?.(r);t(o,{[h("column")]:i,"> *":{[f("column")]:i}})}),o},S=({theme:e,ownerState:t})=>{if(!t.container)return{};let o={};return d(e.breakpoints,t.direction,(e,t)=>{e(o,{flexDirection:t})}),o},w=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},gap:`var(${h("row")}) var(${h("column")})`}});var k=e.i(43476);let C=(0,c.default)(),j=(0,a.default)("div",{name:"MuiGrid",slot:"Root"});function M(e){return(0,l.default)({props:e,name:"MuiGrid",defaultTheme:C})}var _=e.i(40799),R=e.i(94425),O=e.i(54469);let T=function(e={}){let{createStyledComponent:a=j,useThemeProps:l=M,useTheme:c=s.default,componentName:d="MuiGrid"}=e;function h(e,t,o=()=>!0){let r={};return null===e||(Array.isArray(e)?e.forEach((e,i)=>{null!==e&&o(e)&&t.keys[i]&&(r[t.keys[i]]=e)}):"object"==typeof e?Object.keys(e).forEach(t=>{let i=e[t];null!=i&&o(i)&&(r[t]=i)}):r[t.keys[0]]=e),r}let f=a(y,x,v,g,S,w,b),p=t.forwardRef(function(e,a){var s;let p,m=c(),g=l(e),b=(0,u.extendSxProp)(g);s=m.breakpoints,p=[],void 0!==b.item&&(delete b.item,p.push("item")),void 0!==b.zeroMinWidth&&(delete b.zeroMinWidth,p.push("zeroMinWidth")),s.keys.forEach(e=>{void 0!==b[e]&&(p.push(e),delete b[e])});let{className:y,children:v,columns:x=12,container:S=!1,component:w="div",direction:C="row",wrap:j="wrap",size:M={},offset:_={},spacing:R=0,rowSpacing:O=R,columnSpacing:T=R,unstable_level:L=0,...W}=b,$=h(M,m.breakpoints,e=>!1!==e),F=h(_,m.breakpoints),z=e.columns??(L?void 0:x),B=e.spacing??(L?void 0:R),A=e.rowSpacing??e.spacing??(L?void 0:O),N=e.columnSpacing??e.spacing??(L?void 0:T),G={...b,level:L,columns:z,container:S,direction:C,wrap:j,spacing:B,rowSpacing:A,columnSpacing:N,size:$,offset:F},E=((e,t)=>{let o,{container:r,direction:a,spacing:l,wrap:s,size:u}=e,c={root:["root",r&&"container","wrap"!==s&&`wrap-xs-${String(s)}`,...void 0===a?[]:"object"==typeof a?Object.entries(a).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(a)}`],...(o=[],Object.entries(u).forEach(([e,t])=>{!1!==t&&void 0!==t&&o.push(`grid-${e}-${String(t)}`)}),o),...r?((e,t="xs")=>{function o(e){return void 0!==e&&("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e&&e>0)}if(o(e))return[`spacing-${t}-${String(e)}`];if("object"==typeof e&&!Array.isArray(e)){let t=[];return Object.entries(e).forEach(([e,r])=>{o(r)&&t.push(`spacing-${e}-${String(r)}`)}),t}return[]})(l,t.breakpoints.keys[0]):[]]};return(0,n.default)(c,e=>(0,i.default)(d,e),{})})(G,m);return(0,k.jsx)(f,{ref:a,as:w,ownerState:G,className:(0,o.default)(E.root,y),...W,children:t.Children.map(v,e=>t.isValidElement(e)&&(0,r.default)(e,["Grid"])&&S&&e.props.container?t.cloneElement(e,{unstable_level:e.props?.unstable_level??L+1}):e)})});return p.muiName="Grid",p}({createStyledComponent:(0,_.styled)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,o.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>(0,R.useDefaultProps)({props:e,name:"MuiGrid"}),useTheme:O.default});e.s(["Grid",0,T],36057)},39013,e=>{"use strict";e.i(47167);var t=e.i(43476),o=e.i(932),r=e.i(18566),i=e.i(71645),n=e.i(3974),a=e.i(13854),l=e.i(76552),s=e.i(69073),u=e.i(97555),c=e.i(37828),d=e.i(36057),h=e.i(69120),f=e.i(23411),p=e.i(63745),m=e.i(66796),g=e.i(56105),b=e.i(59722),y=e.i(12872),v=e.i(8979),x=e.i(83270),S=e.i(88830),w=e.i(18452);e.i(87812);var k=e.i(70607),C=e.i(92863),j=e.i(37563);let M=function(e){let r,n,a,s,u,c,d,h,f=(0,o.c)(24),{gameId:m,board:g,zoomLvl:b,canMove:y,playerColor:v,winningPositions:w}=e,{currentUser:k}=(0,i.useContext)(x.CurrentUserContext),{socket:C}=(0,i.useContext)(S.SocketContext),{mode:M,systemMode:_}=(0,j.useColorScheme)(),[R,O]=(0,i.useState)(null),T=(0,i.useRef)();f[0]!==g||f[1]!==R?(r=()=>{g&&JSON.stringify(g)!==JSON.stringify(R)&&(T.current=g,O([...g]))},f[0]=g,f[1]=R,f[2]=r):r=f[2],f[3]!==g||f[4]!==y||f[5]!==v?(n=[g,y,v],f[3]=g,f[4]=y,f[5]=v,f[6]=n):n=f[6],(0,i.useEffect)(r,n),f[7]!==y||f[8]!==k||f[9]!==m||f[10]!==C?(a=(e,t)=>{C&&y&&C.emit("update game",{name:"connect4",gameId:m,login:k.login,token:k.token,move:{column:parseInt(e.column)}})},f[7]=y,f[8]=k,f[9]=m,f[10]=C,f[11]=a):a=f[11];let L=a;f[12]===Symbol.for("react.memo_cache_sentinel")?(s={p:1,textAlign:"center",width:"100%"},f[12]=s):s=f[12];let W=`connect4-board ${b<100?" connect4-board__"+b:""}`,$=("system"===M?_:M)==="dark"?"#070707":"#fefefe";return f[13]!==$?(u={backgroundColor:$},f[13]=$,f[14]=u):u=f[14],f[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"connect4-board-foreground",style:{background:'url("/online-games-portal/img/connect4/connect4-foreground.svg") no-repeat center center / cover'}}),f[15]=c):c=f[15],f[16]!==R||f[17]!==L||f[18]!==w?(d=R&&R.map((e,o)=>{let r=o%7,i=Math.floor(o/6),n=w.indexOf(o)>-1;return(0,t.jsxs)("div",{className:"connect4-board-cell","data-column":r,"data-row":i,onClick:t=>L(t.target.dataset,e),children:[(0===e||1===e)&&(0,t.jsx)("div",{className:"connect4-board-cell-chip",children:(0,t.jsx)("img",{width:"100%",height:"100%",src:`/online-games-portal/img/connect4/connect4-${0===e?"yellow":"red"}.svg`})}),n&&(0,t.jsx)("div",{className:"connect4-board-cell-winning-star"})]},o)}),f[16]=R,f[17]=L,f[18]=w,f[19]=d):d=f[19],f[20]!==W||f[21]!==u||f[22]!==d?(h=(0,t.jsx)(l.Box,{sx:s,children:(0,t.jsx)(p.Stack,{direction:"column",alignItems:"center",children:(0,t.jsxs)("div",{className:W,style:u,children:[c,d]})})}),f[20]=W,f[21]=u,f[22]=d,f[23]=h):h=f[23],h};class _{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let o=this.findDoubleThreat();if(-1!==o)return o;let r=this.findStrategicMove();return -1!==r?r:this.getRandomValidMove()}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let o=this.getFirstEmptyRow(t);this.board[t][o]=e;let r=this.checkWin(this.board,t,o,e);if(this.board[t][o]=null,r)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),o=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&o++,this.checkVerticalThreat(e,t,this.playerSymbol)&&o++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&o++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&o++,o>=2)return e}return -1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let o=0;o<this.COLS;o++){if(this.isColumnFull(o))continue;let r=e[o],i=this.getFirstEmptyRow(o);if(r+=this.evaluatePosition(o,i,this.playerSymbol),i>0){let e=i-1;r-=.5*this.evaluatePosition(o,e,this.opponentSymbol)}t.push({col:o,score:r})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let o=t.filter(e=>e.score>=.8*t[0].score),r=Math.floor(Math.random()*o.length);return o[r].col}evaluatePosition(e,t,o){let r=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let a=this.getLine(e,t,i,n,o);r+=this.evaluateLine(a,o)}return r}getLine(e,t,o,r,i){let n=[];for(let i=-3;i<=3;i++){let a=e+i*o,l=t+i*r;if(a>=0&&a<this.COLS&&l>=0&&l<this.ROWS){let e=this.board[a][l];n.push(e)}else n.push("WALL")}return n}evaluateLine(e,t){let o=0;for(let r=0;r<=e.length-4;r++){let i=e.slice(r,r+4);o+=this.evaluateSegment(i,t)}return o}evaluateSegment(e,t){let o="R"===t?"Y":"R",r=0,i=0,n=0;for(let a of e)a===t?r++:a===o?i++:null===a&&n++;return r>0&&i>0?0:4===r?1e3:3===r&&1===n?100:2===r&&2===n?10:1===r&&3===n?1:3===i&&1===n?-50:2===i&&2===n?-10:0}checkHorizontalThreat(e,t,o){let r=0,i=0;for(let n=e-1;n>=0&&n>=e-3;n--)if(this.board[n][t]===o)r++;else if(null===this.board[n][t])i++;else break;for(let n=e+1;n<this.COLS&&n<=e+3;n++)if(this.board[n][t]===o)r++;else if(null===this.board[n][t])i++;else break;return r>=2&&i>=1}checkVerticalThreat(e,t,o){let r=0;for(let i=t-1;i>=0&&i>=t-3;i--)if(this.board[e][i]===o)r++;else break;return r>=2}checkDiagonalThreat(e,t,o,r,i){let n=0,a=0;for(let l=1;l<=3;l++){let s=e+l*r,u=t+l*i;if(s<0||s>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[s][u]===o)n++;else if(null===this.board[s][u])a++;else break}for(let l=1;l<=3;l++){let s=e-l*r,u=t-l*i;if(s<0||s>=this.COLS||u<0||u>=this.ROWS)break;if(this.board[s][u]===o)n++;else if(null===this.board[s][u])a++;else break}return n>=2&&a>=1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,o,r){for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let a=1;for(let l=1;l<4;l++){let s=t+l*i,u=o+l*n;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==r)break;a++}for(let l=1;l<4;l++){let s=t-l*i,u=o-l*n;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==r)break;a++}if(a>=4)return!0}return!1}}class R{constructor(e,t){this.board=e,this.playerSymbol=t,this.opponentSymbol=+(1!==t),this.COLS=7,this.ROWS=6}getBestMove(){let e=this.findWinningMove(this.playerSymbol);if(-1!==e)return e;let t=this.findWinningMove(this.opponentSymbol);if(-1!==t)return t;let o=this.findAndBlockFutureThreats();if(-1!==o)return o;let r=this.findDoubleThreat();if(-1!==r)return r;let i=this.findStrategicMove();return -1!==i?i:this.getRandomValidMove()}findAndBlockFutureThreats(){let e=[];for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let o=this.getFirstEmptyRow(t);if(-1===o)continue;let r=this.evaluateOpponentThreat(t,o);r>0&&e.push({col:t,threatLevel:r})}return 0===e.length?-1:(e.sort((e,t)=>t.threatLevel-e.threatLevel),e[0].col)}evaluateOpponentThreat(e,t){let o;return this.board[e][t]=this.opponentSymbol,o=0+50*this.countThreats(e,t,this.opponentSymbol)+30*this.evaluateOpenLines(e,t,this.opponentSymbol),t>=3&&(o+=(6-t)*20),this.canBlockFutureThreat(e,t)||(o+=100),this.board[e][t]=null,o}countThreats(e,t,o){let r=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let a=[];for(let o=-3;o<=3;o++){let r=e+o*i,l=t+o*n;r>=0&&r<this.COLS&&l>=0&&l<this.ROWS?a.push(this.board[r][l]):a.push("WALL")}for(let e=0;e<=3;e++){let t=a.slice(e,e+4);this.isDangerousSegment(t,o)&&r++}}return r}isDangerousSegment(e,t){let o=0,r=0;for(let i of e)if(i===t)o++;else if(null===i)r++;else if("WALL"!==i)return!1;return o>=2&&r>=1&&o+r===4}evaluateOpenLines(e,t,o){let r=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]])this.checkOpenEnds(e,t,i,n,o)&&r++;return r}checkOpenEnds(e,t,o,r,i){let n=!1;for(let a=1;a<=3;a++){let l=e+a*o,s=t+a*r;if(l<0||l>=this.COLS||s<0||s>=this.ROWS)break;if(null===this.board[l][s]){n=!0;break}if(this.board[l][s]!==i)break}let a=!1;for(let n=1;n<=3;n++){let l=e-n*o,s=t-n*r;if(l<0||l>=this.COLS||s<0||s>=this.ROWS)break;if(null===this.board[l][s]){a=!0;break}if(this.board[l][s]!==i)break}return n||a}canBlockFutureThreat(e,t){for(let o=Math.max(0,e-1);o<=Math.min(this.COLS-1,e+1);o++)if(o!==e&&!this.isColumnFull(o)){let r=this.getFirstEmptyRow(o);this.board[o][r]=this.playerSymbol,this.board[e][t]=this.opponentSymbol;let i=this.countThreats(e,t,this.opponentSymbol)>0;if(this.board[e][t]=null,this.board[o][r]=null,!i)return!0}return!1}findStrategicMove(){let e=[1,2,3,4,3,2,1],t=[];for(let o=0;o<this.COLS;o++){if(this.isColumnFull(o))continue;let r=this.getFirstEmptyRow(o),i=e[o];i+=2*this.evaluatePosition(o,r,this.playerSymbol),i-=3*this.evaluatePosition(o,r,this.opponentSymbol),5===r&&this.wouldGiveBottomLine(o,r)&&(i-=100),i+=this.getAdjacentBonus(o,r,this.playerSymbol),i-=.5*this.getAdjacentBonus(o,r,this.opponentSymbol),t.push({col:o,score:i})}if(0===t.length)return -1;t.sort((e,t)=>t.score-e.score);let o=t.slice(0,3),r=Math.floor(Math.random()*o.length);return o[r].col}wouldGiveBottomLine(e,t){if(5!==t)return!1;this.board[e][t]=this.playerSymbol;let o=!1;for(let e=0;e<=3;e++){let t=[this.board[e][5],this.board[e+1][5],this.board[e+2][5],this.board[e+3][5]],r=0,i=0;for(let e of t)null===e?r++:e===this.playerSymbol&&i++;if(3===r&&1===i){for(let t=e;t<e+4;t++)if(null===this.board[t][5]&&!this.isColumnFull(t)){this.board[t][5]=this.opponentSymbol;let e=this.checkWin(this.board,t,5,this.opponentSymbol);if(this.board[t][5]=null,e){o=!0;break}}}if(o)break}return this.board[e][t]=null,o}getAdjacentBonus(e,t,o){let r=0;for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1],[-1,0],[0,-1],[-1,-1],[-1,1]]){let a=e+i,l=t+n;a>=0&&a<this.COLS&&l>=0&&l<this.ROWS&&this.board[a][l]===o&&(r+=5,0!==i&&0!==n&&(r+=3))}return r}findWinningMove(e){for(let t=0;t<this.COLS;t++){if(this.isColumnFull(t))continue;let o=this.getFirstEmptyRow(t);this.board[t][o]=e;let r=this.checkWin(this.board,t,o,e);if(this.board[t][o]=null,r)return t}return -1}findDoubleThreat(){for(let e=0;e<this.COLS;e++){if(this.isColumnFull(e))continue;let t=this.getFirstEmptyRow(e),o=0;if(this.checkHorizontalThreat(e,t,this.playerSymbol)&&o++,this.checkVerticalThreat(e,t,this.playerSymbol)&&o++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,1)&&o++,this.checkDiagonalThreat(e,t,this.playerSymbol,1,-1)&&o++,o>=2)return e}return -1}isColumnFull(e){return null!==this.board[e][0]}getFirstEmptyRow(e){for(let t=this.ROWS-1;t>=0;t--)if(null===this.board[e][t])return t;return -1}checkWin(e,t,o,r){for(let[i,n]of[[1,0],[0,1],[1,1],[1,-1]]){let a=1;for(let l=1;l<4;l++){let s=t+l*i,u=o+l*n;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==r)break;a++}for(let l=1;l<4;l++){let s=t-l*i,u=o-l*n;if(s<0||s>=this.COLS||u<0||u>=this.ROWS||e[s][u]!==r)break;a++}if(a>=4)return!0}return!1}getRandomValidMove(){let e=[];for(let t=0;t<this.COLS;t++)this.isColumnFull(t)||e.push(t);return e.length>0?e[Math.floor(Math.random()*e.length)]:-1}}var O=e.i(45),T=e.i(16362);function L(){let e,C,j,L,$,F,z,B,A,N,G,E,P,D,H,I,V,U,q,J,K,X,Y,Q,Z,ee,et,eo,er,ei,en,ea,el,es,eu,ec,ed,eh,ef,ep,em,eg,eb,ey,ev,ex,eS,ew,ek,eC,ej,eM,e_,eR,eO,eT=(0,o.c)(170);(0,r.useRouter)();let{currentUser:eL}=(0,i.useContext)(x.CurrentUserContext),{socket:eW}=(0,i.useContext)(S.SocketContext),[e$,eF]=(0,i.useState)(75);eT[0]!==e$?(e=e=>{"zoomOut"===e&&(100===e$&&eF(75),75===e$&&eF(50)),"zoomIn"===e&&(50===e$&&eF(75),75===e$&&eF(100))},eT[0]=e$,eT[1]=e):e=eT[1];let ez=e,eB=(0,r.useSearchParams)();eT[2]!==eB?(C=eB.get("id"),eT[2]=eB,eT[3]=C):C=eT[3];let eA=C,[eN,eG]=(0,i.useState)(!1);eT[4]!==eN?(j=e=>{eG(!0),eN!==e&&eG(e)},eT[4]=eN,eT[5]=j):j=eT[5];let eE=j,[eP,eD]=(0,i.useState)(!0),[eH,eI]=(0,i.useState)(!1);eT[6]===Symbol.for("react.memo_cache_sentinel")?(L={},eT[6]=L):L=eT[6];let[eV,eU]=(0,i.useState)(L),[eq,eJ]=(0,i.useState)(null);eT[7]===Symbol.for("react.memo_cache_sentinel")?($=[],eT[7]=$):$=eT[7];let[eK,eX]=(0,i.useState)($),[eY,eQ]=(0,i.useState)(!1),[eZ,e1]=i.default.useState(!1);eT[8]===Symbol.for("react.memo_cache_sentinel")?(F=(e,t)=>{"clickaway"!==t&&e1(!1)},eT[8]=F):F=eT[8];let e0=F,e2=eq&&"white"===eq?"black":"white",e3=eV.players?.black==="Computer";if(eT[9]!==eW?(z=()=>{eW&&eW.emit("list of games",{})},eT[9]=eW,eT[10]=z):z=eT[10],eT[11]===Symbol.for("react.memo_cache_sentinel")?(B=[],eT[11]=B):B=eT[11],(0,i.useEffect)(z,B),eT[12]!==eL||eT[13]!==eV.players?(A=()=>{eV.players&&eL.login&&(eV.players.white===eL.login?eJ("white"):eV.players.black===eL.login&&eJ("black"))},eT[12]=eL,eT[13]=eV.players,eT[14]=A):A=eT[14],eT[15]!==eL||eT[16]!==eV?(N=[eV,eL],eT[15]=eL,eT[16]=eV,eT[17]=N):N=eT[17],(0,i.useEffect)(A,N),eT[18]!==eL||eT[19]!==eA||eT[20]!==eV.moves||eT[21]!==e3||eT[22]!==eq||eT[23]!==eW?(G=()=>{if(e3&&eq&&eV.moves?.current_move==="black"){let e,t=(e=eV.moves.board,[...Array(7)].map((t,o)=>[...Array(6)].map((t,r)=>e[7*r+o]))),o=0===eL.computerStrength.connect4?new _(t,1).getBestMove():new R(t,1).getBestMove();eW&&Number.isFinite(o)&&setTimeout(()=>{eW.emit("update game",{name:"connect4",gameId:eA,login:eL.login,token:eL.token,move:{column:o}})},1500)}},eT[18]=eL,eT[19]=eA,eT[20]=eV.moves,eT[21]=e3,eT[22]=eq,eT[23]=eW,eT[24]=G):G=eT[24],eT[25]!==eV?(E=[eV],eT[25]=eV,eT[26]=E):E=eT[26],(0,i.useEffect)(G,E),eT[27]!==eA||eT[28]!==eV.status||eT[29]!==eY||eT[30]!==eH||eT[31]!==eP||eT[32]!==eN||eT[33]!==eq||eT[34]!==eW?(P=()=>{let e=e=>{if(eA in e){let t=e[eA];t.moves.board=function(e){let t=Array(42).fill(null),o=0;for(let r=0;r<e.length;r+=2){let i,n=e[r],a=parseInt(e[r+1],10);switch(n){case".":default:i=null;break;case"0":i=0;break;case"1":i=1}for(let e=0;e<a&&o<42;e++)t[o++]=i}return t}(t.moves.board),eV?.status==="starting"&&t?.status==="ongoing"&&(0,T.notifyMe)("opponentFound",t.name,t.players["black"===eq?"white":"black"]),eU(t),"finished"===t.status&&"draw"!==t.result&&eX([...function(e,t){let o=[];for(let r=0;r<6;r++)for(let i=0;i<=3;i++){let n=[7*r+i,7*r+i+1,7*r+i+2,7*r+i+3];if(n.every(o=>e[o]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);o.push({type:"horizontal",row:r,startCol:i,indices:n,positions:e})}}for(let r=0;r<7;r++)for(let i=0;i<=2;i++){let n=[7*i+r,(i+1)*7+r,(i+2)*7+r,(i+3)*7+r];if(n.every(o=>e[o]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);o.push({type:"vertical",col:r,startRow:i,indices:n,positions:e})}}for(let r=0;r<=3;r++)for(let i=0;i<=2;i++){let n=[7*i+r,(i+1)*7+r+1,(i+2)*7+r+2,(i+3)*7+r+3];if(n.every(o=>e[o]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);o.push({type:"diagonal_down",startCol:r,startRow:i,indices:n,positions:e})}}for(let r=0;r<=3;r++)for(let i=3;i<6;i++){let n=[7*i+r,(i-1)*7+r+1,(i-2)*7+r+2,(i-3)*7+r+3];if(n.every(o=>e[o]===t)){let e=n.map(e=>[e%7,Math.floor(e/7)]);o.push({type:"diagonal_up",startCol:r,startRow:i,indices:n,positions:e})}}return{win:o.length>0,combinations:o,positions:o.flatMap(e=>e.positions),uniquePositions:Array.from(new Set(o.flatMap(e=>e.indices))).sort((e,t)=>e-t)}}(t.moves.board,+("white won"!==t.result)).uniquePositions]),eH&&eI(!1),eP&&eD(!1),"finished"!==e[eA].status||eY||(eQ(!0),e1(!0))}else eN?eP||eD(!0):eH||eI(!0)};return eW.on("list of games",e),()=>{eW.off("list of games",e)}},eT[27]=eA,eT[28]=eV.status,eT[29]=eY,eT[30]=eH,eT[31]=eP,eT[32]=eN,eT[33]=eq,eT[34]=eW,eT[35]=P):P=eT[35],eT[36]!==eA||eT[37]!==eH||eT[38]!==eP||eT[39]!==eN||eT[40]!==eW?(D=[eW,eA,eN,eH,eP],eT[36]=eA,eT[37]=eH,eT[38]=eP,eT[39]=eN,eT[40]=eW,eT[41]=D):D=eT[41],(0,i.useEffect)(P,D),eH){let e;return eT[42]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(O.default,{}),eT[42]=e):e=eT[42],e}eT[43]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsx)(c.CircularProgress,{disableShrink:!0,color:"inherit"}),eT[43]=H):H=eT[43],eT[44]!==eP?(I=(0,t.jsx)(a.Backdrop,{sx:W,open:eP,children:H}),eT[44]=eP,eT[45]=I):I=eT[45],eT[46]===Symbol.for("react.memo_cache_sentinel")?(V={width:"100%"},eT[46]=V):V=eT[46],eT[47]!==eA||eT[48]!==eV||eT[49]!==eE?(U=(0,t.jsx)(l.Box,{sx:V,children:(0,t.jsx)(w.default,{type:"game",gameId:eA,gameInfo:eV,handleSetIsUserLeftGame:eE})}),eT[47]=eA,eT[48]=eV,eT[49]=eE,eT[50]=U):U=eT[50],eT[51]!==eL.language||eT[52]!==eL.login||eT[53]!==eP||eT[54]!==eq?(q=(!eL.login||!eq)&&!eP&&(0,t.jsx)(l.Box,{sx:{width:"100%"},children:(0,t.jsx)(n.Alert,{severity:"info",sx:{m:1},variant:"outlined",icon:(0,t.jsx)(v.default,{fontSize:"inherit"}),children:(0,k.default)("spectatorMode",eL.language)})}),eT[51]=eL.language,eT[52]=eL.login,eT[53]=eP,eT[54]=eq,eT[55]=q):q=eT[55],eT[56]===Symbol.for("react.memo_cache_sentinel")?(J={p:1,pt:0},eT[56]=J):J=eT[56],eT[57]===Symbol.for("react.memo_cache_sentinel")?(K={pl:2},eT[57]=K):K=eT[57],eT[58]===Symbol.for("react.memo_cache_sentinel")?(X={fontWeight:"bold"},eT[58]=X):X=eT[58],eT[59]!==eL.language||eT[60]!==eV.players?.black||eT[61]!==eV.players?.white||eT[62]!==eV.status||eT[63]!==eq?(Y="white"!==eq&&eq?"black"===eq?eV.players?.black:"finished"===eV.status?(0,t.jsx)(u.Chip,{label:(0,k.default)("opponentLeftTheGame",eL.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):eV.players?.white||"":eV.players?.white,eT[59]=eL.language,eT[60]=eV.players?.black,eT[61]=eV.players?.white,eT[62]=eV.status,eT[63]=eq,eT[64]=Y):Y=eT[64],eT[65]!==Y?(Q=(0,t.jsx)(d.Grid,{size:"grow",children:(0,t.jsx)(l.Box,{sx:K,children:(0,t.jsx)(m.Typography,{variant:"body1",sx:X,noWrap:!0,children:Y})})}),eT[65]=Y,eT[66]=Q):Q=eT[66],eT[67]===Symbol.for("react.memo_cache_sentinel")?(Z={transform:"rotate(180deg)"},eT[67]=Z):Z=eT[67];let e4=("white"!==eq||eV?.moves?.current_move!=="white")&&("black"!==eq||eV?.moves?.current_move!=="black")&&(eq||eV?.moves?.current_move!=="white")?"disabled":"inherit";eT[68]!==e4?(ee=(0,t.jsx)(g.default,{sx:Z,color:e4}),eT[68]=e4,eT[69]=ee):ee=eT[69];let e7=eV?.moves?.current_move==="black"?"red":eV?.moves?.current_move==="white"?"gold":"gray",e5=eV?.moves?.current_move==="black"?'url("/online-games-portal/img/connect4/connect4-red.svg") no-repeat center center / cover':eV?.moves?.current_move==="white"?'url("/online-games-portal/img/connect4/connect4-yellow.svg") no-repeat center center / cover':"none";eT[70]!==e7||eT[71]!==e5?(et=(0,t.jsx)(l.Box,{sx:{display:"block",width:"24px",height:"24px",backgroundColor:e7,background:e5,borderRadius:"50%"}}),eT[70]=e7,eT[71]=e5,eT[72]=et):et=eT[72];let e6=("white"!==eq||eV?.moves?.current_move!=="black")&&("black"!==eq||eV?.moves?.current_move!=="white")&&(eq||eV?.moves?.current_move!=="black")?"disabled":"inherit";eT[73]!==e6?(eo=(0,t.jsx)(g.default,{color:e6}),eT[73]=e6,eT[74]=eo):eo=eT[74],eT[75]!==ee||eT[76]!==et||eT[77]!==eo?(er=(0,t.jsx)(d.Grid,{size:"auto",children:(0,t.jsxs)(p.Stack,{direction:"row",spacing:1,alignItems:"center",children:[ee,et,eo]})}),eT[75]=ee,eT[76]=et,eT[77]=eo,eT[78]=er):er=eT[78],eT[79]===Symbol.for("react.memo_cache_sentinel")?(ei={pr:2,textAlign:"right"},eT[79]=ei):ei=eT[79],eT[80]===Symbol.for("react.memo_cache_sentinel")?(en={fontWeight:"bold"},eT[80]=en):en=eT[80],eT[81]!==eL.language||eT[82]!==eV.players||eT[83]!==eV.status||eT[84]!==eq?(ea="black"===eq?eV.players?.white?eV.players.white:"finished"===eV.status?"":(0,t.jsx)(u.Chip,{label:(0,k.default)("waitingForOpponent",eL.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}):eV.players?.black?"Computer"===eV.players.black?(0,t.jsx)(t.Fragment,{children:(0,k.default)("computer",eL.language)}):eV.players.black:"finished"===eV.status?"":(0,t.jsx)(u.Chip,{label:(0,k.default)("waitingForOpponent",eL.language),size:"small",variant:"outlined",component:"span",sx:{fontWeight:"normal",fontFamily:"Roboto Condensed"}}),eT[81]=eL.language,eT[82]=eV.players,eT[83]=eV.status,eT[84]=eq,eT[85]=ea):ea=eT[85],eT[86]!==eL.language||eT[87]!==eV.moves?.current_move||eT[88]!==eV.players||eT[89]!==eV.status||eT[90]!==eq?(el="finished"!==eV.status&&("white"===eq&&eV?.moves?.current_move==="black"||"black"===eq&&eV?.moves?.current_move==="white")?"":"finished"===eV.status?("white"!==eq||eV.players.black)&&("black"!==eq||eV.players.white)&&(eq||eV.players.black)?"":(0,t.jsx)(u.Chip,{label:(0,k.default)("opponentLeftTheGame",eL.language),size:"small",variant:"outlined",component:"span",sx:{fontFamily:"Roboto Condensed",fontWeight:"normal"}}):"",eT[86]=eL.language,eT[87]=eV.moves?.current_move,eT[88]=eV.players,eT[89]=eV.status,eT[90]=eq,eT[91]=el):el=eT[91],eT[92]!==ea||eT[93]!==el?(es=(0,t.jsx)(d.Grid,{size:"grow",children:(0,t.jsx)(l.Box,{sx:ei,children:(0,t.jsxs)(m.Typography,{variant:"body1",sx:en,noWrap:!0,children:[ea,el]})})}),eT[92]=ea,eT[93]=el,eT[94]=es):es=eT[94],eT[95]!==Q||eT[96]!==er||eT[97]!==es?(eu=(0,t.jsxs)(d.Grid,{container:!0,spacing:3,sx:J,children:[Q,er,es]}),eT[95]=Q,eT[96]=er,eT[97]=es,eT[98]=eu):eu=eT[98],eT[99]===Symbol.for("react.memo_cache_sentinel")?(ec={p:3,pt:1,pb:0,textAlign:"center",width:"100%",justifyContent:"center"},eT[99]=ec):ec=eT[99],eT[100]===Symbol.for("react.memo_cache_sentinel")?(ed={alignItems:"center",alignContent:"center"},eT[100]=ed):ed=eT[100],eT[101]===Symbol.for("react.memo_cache_sentinel")?(eh={color:"#8d8d8e",fontFamily:"Roboto Condensed"},eT[101]=eh):eh=eT[101],eT[102]!==eL.language||eT[103]!==eV.moves?.current_move||eT[104]!==eV.status||eT[105]!==eq?(ef=eq&&eV?.status!=="finished"&&("white"===eq&&eV?.moves?.current_move==="white"||"black"===eq&&eV?.moves?.current_move==="black")?(0,t.jsx)(t.Fragment,{children:(0,k.default)("yourTurn",eL.language)}):"",eT[102]=eL.language,eT[103]=eV.moves?.current_move,eT[104]=eV.status,eT[105]=eq,eT[106]=ef):ef=eT[106],eT[107]!==eL.language||eT[108]!==eV.result||eT[109]!==eV.status||eT[110]!==eq?(ep=eq&&eV?.status==="finished"&&eV?.result.toLowerCase().startsWith(eq?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,k.default)("youWin",eL.language)}):eV?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,k.default)("draw",eL.language)}):"",eT[107]=eL.language,eT[108]=eV.result,eT[109]=eV.status,eT[110]=eq,eT[111]=ep):ep=eT[111],eT[112]!==eL.language||eT[113]!==eV.moves?.current_move||eT[114]!==eV.players||eT[115]!==eV.status||eT[116]!==eq?(em=eq&&"finished"!==eV.status&&("white"===eq&&eV?.moves?.current_move==="black"||"black"===eq&&eV?.moves?.current_move==="white")?(0,t.jsx)(t.Fragment,{children:(0,k.default)("waitingForOpponent",eL.language)}):("finished"===eV.status&&("white"!==eq||eV.players.black)&&("black"!==eq||eV.players.white),""),eT[112]=eL.language,eT[113]=eV.moves?.current_move,eT[114]=eV.players,eT[115]=eV.status,eT[116]=eq,eT[117]=em):em=eT[117],eT[118]!==eL.language||eT[119]!==eV.result||eT[120]!==eV.status||eT[121]!==e2||eT[122]!==eq?(eg=eq&&eV?.status==="finished"&&eV?.result.toLowerCase().startsWith(e2?.toLowerCase()||"draw")?(0,t.jsx)(t.Fragment,{children:(0,k.default)("opponentWins",eL.language)}):"",eT[118]=eL.language,eT[119]=eV.result,eT[120]=eV.status,eT[121]=e2,eT[122]=eq,eT[123]=eg):eg=eT[123],eT[124]!==ef||eT[125]!==ep||eT[126]!==em||eT[127]!==eg?(eb=(0,t.jsx)(l.Box,{sx:ed,children:(0,t.jsxs)(m.Typography,{variant:"body2",sx:eh,noWrap:!0,children:[ef,ep,em,eg]})}),eT[124]=ef,eT[125]=ep,eT[126]=em,eT[127]=eg,eT[128]=eb):eb=eT[128];let e9=50===e$;eT[129]!==ez?(ey=e=>ez("zoomOut"),eT[129]=ez,eT[130]=ey):ey=eT[130],eT[131]===Symbol.for("react.memo_cache_sentinel")?(ev=(0,t.jsx)(y.default,{}),eT[131]=ev):ev=eT[131],eT[132]!==e9||eT[133]!==ey?(ex=(0,t.jsx)(h.IconButton,{disabled:e9,onClick:ey,children:ev}),eT[132]=e9,eT[133]=ey,eT[134]=ex):ex=eT[134];let e8=100===e$;eT[135]!==ez?(eS=e=>ez("zoomIn"),eT[135]=ez,eT[136]=eS):eS=eT[136],eT[137]===Symbol.for("react.memo_cache_sentinel")?(ew=(0,t.jsx)(b.default,{}),eT[137]=ew):ew=eT[137],eT[138]!==e8||eT[139]!==eS?(ek=(0,t.jsx)(h.IconButton,{disabled:e8,onClick:eS,children:ew}),eT[138]=e8,eT[139]=eS,eT[140]=ek):ek=eT[140],eT[141]!==ex||eT[142]!==ek?(eC=(0,t.jsx)(l.Box,{children:(0,t.jsxs)(s.ButtonGroup,{variant:"outlined","aria-label":"Basic button group",size:"small",children:[ex,ek]})}),eT[141]=ex,eT[142]=ek,eT[143]=eC):eC=eT[143],eT[144]!==eb||eT[145]!==eC?(ej=(0,t.jsx)(l.Box,{sx:ec,children:(0,t.jsxs)(p.Stack,{direction:"row",spacing:2,justifyContent:"space-between",children:[eb,eC]})}),eT[144]=eb,eT[145]=eC,eT[146]=ej):ej=eT[146],eT[147]===Symbol.for("react.memo_cache_sentinel")?(eM={flexGrow:1,display:"flex",justifyContent:"center",m:"5px 0"},eT[147]=eM):eM=eT[147];let te=eV?.moves?.board,tt=eV?.moves?.current_move===eq&&eV?.status==="ongoing";return eT[148]!==eA||eT[149]!==eY||eT[150]!==eq||eT[151]!==te||eT[152]!==tt||eT[153]!==eK||eT[154]!==e$?(e_=(0,t.jsx)(l.Box,{sx:eM,children:(0,t.jsx)(M,{gameId:eA,board:te,zoomLvl:e$,canMove:tt,playerColor:eq,winningPositions:eK,isGameOver:eY})}),eT[148]=eA,eT[149]=eY,eT[150]=eq,eT[151]=te,eT[152]=tt,eT[153]=eK,eT[154]=e$,eT[155]=e_):e_=eT[155],eT[156]!==eL.language||eT[157]!==eV.result||eT[158]!==eV.status||eT[159]!==eq||eT[160]!==eZ?(eR=eq&&(0,t.jsx)(f.Snackbar,{open:eZ,autoHideDuration:6e3,onClose:e0,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,t.jsx)(n.Alert,{onClose:e0,severity:"info",variant:"filled",sx:{width:"100%"},children:eq&&eV?.status==="finished"&&eV?.result?.toLowerCase().startsWith(eq?.toLowerCase())?(0,t.jsx)(t.Fragment,{children:(0,k.default)("youWin",eL.language)}):eV?.result?.toLowerCase().startsWith("draw")?(0,t.jsx)(t.Fragment,{children:(0,k.default)("draw",eL.language)}):(0,t.jsx)(t.Fragment,{children:(0,k.default)("opponentWins",eL.language)})})}),eT[156]=eL.language,eT[157]=eV.result,eT[158]=eV.status,eT[159]=eq,eT[160]=eZ,eT[161]=eR):eR=eT[161],eT[162]!==I||eT[163]!==U||eT[164]!==q||eT[165]!==eu||eT[166]!==ej||eT[167]!==e_||eT[168]!==eR?(eO=(0,t.jsxs)(t.Fragment,{children:[I,U,q,eu,ej,e_,eR]}),eT[162]=I,eT[163]=U,eT[164]=q,eT[165]=eu,eT[166]=ej,eT[167]=e_,eT[168]=eR,eT[169]=eO):eO=eT[169],eO}function W(e){return{color:"#fff",zIndex:e.zIndex.drawer+1}}e.s(["default",0,function(e){let r,n,a=(0,o.c)(3),{children:l}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(C.default,{}),a[0]=r):r=a[0],a[1]!==l?(n=(0,t.jsx)(i.Suspense,{fallback:r,children:(0,t.jsx)(L,{children:l})}),a[1]=l,a[2]=n):n=a[2],n}],39013)}]);